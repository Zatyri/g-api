{"version":3,"sources":["authentication/authProvider.js","components/navbar/NavButton.jsx","components/navbar/Navbar.jsx","queries/fragments.js","queries/subscription.js","components/utils/FormHelpers.js","media/logos/Telia_48px.png","media/logos/Elisa_300px.png","media/logos/Telia_300px.png","components/utils/OperatorLogo.jsx","media/logos/DNA_300px.png","media/logos/DNA_48px.png","media/logos/Elisa_48px.png","components/subscriptions/CompareSubRow.jsx","components/subscriptions/CompareOfferTable.jsx","components/subscriptions/SelectCurrent.jsx","components/subscriptions/CompareOffer.jsx","components/netsubscriptions/CompareNetOffer.jsx","components/subscriptions/OfferCard.jsx","components/subscriptions/OfferCardRow.jsx","components/subscriptions/SubscriptionTable.jsx","components/subscriptions/OfferModal.jsx","components/subscriptions/SubscriptionMain.jsx","components/admin/offer/AddOfferForm.jsx","components/admin/offer/AddOfferModal.jsx","components/admin/offer/OfferDisplayTable.jsx","components/admin/offer/OfferView.jsx","queries/serviceAgreement.js","components/admin/serviceagreement/EditSAForm.jsx","components/admin/serviceagreement/EditSAModal.jsx","components/admin/serviceagreement/SATable.jsx","components/admin/serviceagreement/AddSAForm.jsx","components/admin/serviceagreement/AddSAModal.jsx","components/admin/serviceagreement/SAView.jsx","components/admin/subscriptions/net/AddNetSubForm.jsx","components/admin/subscriptions/net/AddNetSubModal.jsx","components/admin/subscriptions/net/EditNetSubForm.jsx","components/admin/subscriptions/net/EditNetSubModal.jsx","components/admin/subscriptions/net/NetSubTable.jsx","components/admin/subscriptions/talk/AddSubscriptionForm.jsx","components/admin/subscriptions/talk/AddSubscriptionModal.jsx","components/admin/subscriptions/talk/EditSubscriptionForm.jsx","components/admin/subscriptions/talk/EditSubscriptionModal.jsx","components/admin/subscriptions/talk/SubTable.jsx","components/admin/subscriptions/SubscriptionView.jsx","components/admin/AdminMain.jsx","components/shoppingcart/ShoppingCartCombined.jsx","components/shoppingcart/ShoppingItemRow.jsx","components/serviceAgreement/CompareSATable.jsx","components/shoppingcart/ShoppingItemRowSA.jsx","components/shoppingcart/ShoppingCart.jsx","authentication/accessValidation.js","components/netsubscriptions/NetSubMain.jsx","components/serviceAgreement/SATable.jsx","components/serviceAgreement/SACard.jsx","components/serviceAgreement/SelectCurrentSA.jsx","components/serviceAgreement/CompareSA.jsx","components/serviceAgreement/SAModal.jsx","components/serviceAgreement/SAMain.jsx","App.jsx","reportWebVitals.js","authentication/aquireToken.js","index.js"],"names":["config","auth","clientId","authority","redirectUri","cache","cacheLocation","storeAuthStateInCookie","options","loginType","LoginType","Redirect","tokenRefreshUri","window","location","origin","authProvider","MsalAuthProvider","scopes","NavButton","props","Menu","Item","active","activeItem","name","to","link","Button","children","color","onClick","handleClick","text","Navbar","activePage","setActivePage","logout","userType","_","pointing","style","marginBottom","position","pointer","SUBSCRIPTION_INFO","gql","SUBSCRIPTION_INFO_WITH_OFFER","NET_SUBSCRIPTION_INFO","NET_SUBSCRIPTION_INFO_WITH_OFFER","SA_INFO","ALL_SUBSCRIPTIONS","ALL_NET_SUBSCRIPTIONS","ALL_SUBSCRIPTIONS_WITH_OFFER","ALL_NET_SUBSCRIPTIONS_WITH_OFFER","ALL_ACTIVE_SUBSCRIPTIONS","ALL_ACTIVE_NET_SUBSCRIPTIONS","ADD_SUBSCRIPTION","ADD_NET_SUBSCRIPTION","EDIT_SUBSCRIPTION","EDIT_NET_SUBSCRIPTION","DELETE_SUBSCRIPTION","DELETE_NET_SUBSCRIPTION","ALL_OPERATORS","ADD_OFFER","ADD_NET_OFFER","REMOVE_OFFER","REMOVE_NET_OFFER","XorVIcon","value","Icon","Loading","Segment","height","Dimmer","inverted","Loader","ErrorMessage","error","console","log","FormInput","field","label","type","onChange","onBlur","touched","disabled","placeholder","wholeNumbers","Form","Field","Input","step","undefined","Label","FormRadio","id","checked","Group","className","Radio","toggle","AddRemoveInput","action","amount","icon","OperatorLogo","operator","size","Image","src","alt","wrapped","teliaLogoMed","teliaLogoSmall","elisaLogoMed","CompareSubRow","feature","current","compareTo","suffix","unlimitedDataCurrent","unlimitedDataOffer","offerBetter","borderBottom","showStar","CompareOfferTable","currentSub","offerSub","currentSubOffer","handleManualOffer","shoppingCart","Header","as","talk","sms","speed","unlimited","eu","price","offer","bindingOffer","offerLength","parseInt","oneTimeDiscount","validationSchema","Yup","shape","subscription","required","validOffer","currentOffer","when","is","then","otherwise","notRequired","SelectCurrent","operators","subscriptions","handleSelect","handleClose","useState","selectedOperator","setSelectedOperator","Modal","Content","map","opRef","initialValues","onSubmit","values","handleSubmit","control","handleChange","handleBlur","filter","subRef","errors","Actions","form","content","labelPosition","positive","CompareOffer","handleShoppingCart","useQuery","context","scope","data","loading","operatorQuery","setCurrentSub","setCurrentSubOffer","setAmount","manualOffer","setManualOffer","allSubscriptions","allOperators","fluid","e","target","length","test","newCartObject","concat","currentSubID","currentSubOfferRef","toFixed","allNetSubscriptions","OfferCard","sub","rest","Card","raised","Divider","Description","extra","OfferCardRow","styles","fontSize","textDecoration","SubscriptionTable","OfferModal","open","setOpen","comparison","setComparison","onClose","onOpen","trigger","CompareNetOffer","paddingLeft","SubscriptMain","allSubscriptionsWithOffer","sort","next","offerValue","min","max","AddOfferForm","handleAddOffer","handleAddNetOffer","allActiveSubscription","allActiveNetSubscriptions","allActiveSubscriptions","hasOffer","backgroundColor","AddOfferModal","useMutation","addOffer","addNetOffer","a","variables","update","modify","fields","existingFieldData","result","alert","allNetSubscriptionsWithOffer","OfferDisplayTable","removeOffer","removeNetOffer","handleDelete","confirm","cacheId","identify","__ref","__typename","handleNetDelete","Table","celled","selectable","Row","headerRef","HeaderCell","Body","Cell","OfferView","subData","subError","subLoading","netData","netError","netLoading","ALL_SERVICE_AGREEMENTS","ADD_SERVICE_AGREEMENT","EDIT_SERVICE_AGREEMENT","DELETE_SERVICE_AGREEMENT","antiVirus","antiVirusAmount","VPN","VPNAmount","cloud","cloudLimit","office365","support","remoteFix","EditSAForm","handleUpdateSA","SARef","EditSAModal","editServiceAgreement","toString","message","SATable","allServiceAgreements","AddSAForm","handleAddServiceAgreement","AddSAModal","addServiceAgreement","closeModal","SAView","deleteServiceAgreement","margin","AddNetSubForm","handleAddSubscription","errorMessage","netTypes","String","find","typeRef","AddNetSubModal","addNetSubscription","EditNetSubForm","handleEditSub","EditNetSubModal","editSubscription","handleUpdateSub","NetSubTable","opData","setNetFilterOperator","Dropdown","multiple","AddSubscriptionForm","talkUnlimited","smsUnlimited","AddSubscriptionModal","addSubscription","EditSubscriptionForm","EditSubscriptionModal","SubTable","setFilterOperator","sortFunction","setSortFunction","equivelentSub","SubscriptionView","opError","opLoading","deleteSubscription","netSubData","netSubError","netSubLoading","deleteNetSubscription","filterOperator","netFilterOperator","showSubscriptions","setShowSubscriptions","showNetSubscriptions","setShowNetSubscriptions","sortBy","b","sortingFunction","Checkbox","AdminMain","view","setView","marginTop","showView","ShoppingCartCombined","combinedSavings","savings","forEach","itemRef","monthlyPayment","itemRefSavings","parseFloat","combinedDiscounts","discounts","totalMontlyPayment","monthlyPayments","ShoppingItemRow","item","editItemAmount","editItem","priceDifference","CompareSATable","offerSA","currentSA","ShoppingItemRowSA","monthlyFee","ShoppingCart","setShoppingCart","itemID","itemIndex","findIndex","newItem","newShoppingCart","getUserRole","token","jwt","decode","tokenDecoder","roles","NetSubMain","width","SACard","Meta","SelectCurrentSA","CompareSA","setCurrentSA","SAModal","SAMain","serviceAgreements","App","userRole","setUserRole","client","useApolloClient","identifyUser","getIdToken","idToken","rawIdToken","useEffect","localStorage","clear","resetStore","path","SubscriptionMain","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","getAccessToken","Error","accessTokenRequest","acquireTokenSilent","accessToken","indexOf","aacquireTokenPopup","authLink","setContext","headers","authorization","httpLink","HttpLink","uri","ApolloClient","InMemoryCache","credentials","ReactDOM","render","provider","forceLogin","document","getElementById"],"mappings":"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","file":"static/js/main.7506d3b4.chunk.js","sourcesContent":["import { MsalAuthProvider, LoginType } from 'react-aad-msal';\r\n\r\nlet redirectUri;\r\n\r\nif (process.env.NODE_ENV === 'development') {\r\n  redirectUri = 'http://localhost:3000/';\r\n}\r\nif (process.env.NODE_ENV === 'production') {\r\n  redirectUri = 'https://gappi.herokuapp.com';\r\n}\r\n\r\n// Msal Configurations\r\nconst config = {\r\n  auth: {\r\n    clientId: '718a3839-33ac-4bc4-bd75-6831419126e4',\r\n    authority:\r\n      'https://login.microsoftonline.com/fbedf638-3b69-42dd-9391-4e789848f191',\r\n    redirectUri: redirectUri,\r\n  },\r\n  cache: {\r\n    cacheLocation: 'sessionStorage',\r\n    storeAuthStateInCookie: false,\r\n  },\r\n};\r\n\r\n// Authentication Parameters\r\nconst authenticationParameters = {\r\n  scopes: ['user.read', 'openid', 'profile'],\r\n};\r\n\r\n// Options\r\nconst options = {\r\n  loginType: LoginType.Redirect,\r\n  tokenRefreshUri: window.location.origin + '/auth.html',\r\n};\r\n\r\nexport const authProvider = new MsalAuthProvider(\r\n  config,\r\n  authenticationParameters,\r\n  options\r\n);\r\n","import React from \"react\";\r\nimport { Menu, Button } from \"semantic-ui-react\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst NavButton = (props) => {\r\n\r\n  \r\n\r\n  return (\r\n    <Menu.Item active={props.activeItem === props.name}>\r\n      <Link to={props.link ? props.link : '/'}>\r\n        <Button\r\n          {...props.children}\r\n          name={props.name}\r\n          color={props.color}\r\n          onClick={props.handleClick}\r\n        >\r\n          {props.text}\r\n        </Button>\r\n      </Link>\r\n    </Menu.Item>\r\n  );\r\n};\r\n\r\nexport default NavButton;\r\n","import React from 'react';\r\nimport { Menu } from 'semantic-ui-react';\r\nimport NavButton from './NavButton';\r\n\r\nconst Navbar = ({ activePage, setActivePage, logout, userType }) => {\r\n  const handleClick = (_, { name }) => {\r\n    setActivePage(name);\r\n  };\r\n\r\n  return (\r\n    <Menu pointing style={{ marginBottom: '2px' }}>\r\n      <NavButton\r\n        link=\"/puheliittymat\"\r\n        name=\"puhe\"\r\n        color=\"green\"\r\n        activeItem={activePage}\r\n        handleClick={handleClick}\r\n        text=\"Puheliittymät\"\r\n      />\r\n      <NavButton\r\n        link=\"/nettiliittymat\"\r\n        name=\"netti\"\r\n        color=\"green\"\r\n        activeItem={activePage}\r\n        handleClick={handleClick}\r\n        text=\"Nettiliittymät\"\r\n      />\r\n      <NavButton\r\n        link=\"/tietoturva\"\r\n        name=\"tietoturva\"\r\n        color=\"green\"\r\n        activeItem={activePage}\r\n        handleClick={handleClick}\r\n        text=\"Tietoturva\"\r\n      />\r\n      <Menu.Menu position=\"right\">\r\n        {(userType === 'admin' || userType === 'storeadmin') && (\r\n          <NavButton\r\n            link=\"/admin\"\r\n            name=\"admin\"\r\n            activeItem={activePage}\r\n            handleClick={handleClick}\r\n            text=\"Admin\"\r\n            pointer=\"down\"\r\n          />\r\n        )}\r\n        <NavButton\r\n          name=\"logout\"\r\n          activeItem={activePage}\r\n          handleClick={logout}\r\n          text=\"Kirjaudu ulos\"\r\n        />\r\n      </Menu.Menu>\r\n    </Menu>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import { gql } from '@apollo/client';\r\n\r\nexport const SUBSCRIPTION_INFO = gql`\r\n  fragment SubscriptionInfo on Subscription {\r\n    operator {\r\n      name\r\n      id\r\n    }\r\n    active\r\n    name\r\n    talk\r\n    sms\r\n    speed\r\n    unlimited\r\n    eu\r\n    hasOffer\r\n    price\r\n    equivelentSub {\r\n      name\r\n    }\r\n    id\r\n  }\r\n`;\r\n\r\nexport const SUBSCRIPTION_INFO_WITH_OFFER = gql`\r\n  fragment SubscriptionInfoWithOffer on Subscription {\r\n    operator {\r\n      name\r\n    }\r\n    active\r\n    name\r\n    talk\r\n    sms\r\n    speed\r\n    unlimited\r\n    eu\r\n    price\r\n    hasOffer\r\n    offer\r\n    offerLength\r\n    bindingOffer\r\n    offerValue\r\n    oneTimeDiscount\r\n    equivelentSub {\r\n      name\r\n    }\r\n    id\r\n  }\r\n`;\r\n\r\nexport const NET_SUBSCRIPTION_INFO = gql`\r\n  fragment NetSubscriptionInfo on NetSubscription {\r\n    operator {\r\n      name\r\n      id\r\n    }\r\n    active\r\n    name\r\n    type\r\n    speed\r\n    eu\r\n    hasOffer\r\n    price\r\n    id\r\n  }\r\n`;\r\n\r\nexport const NET_SUBSCRIPTION_INFO_WITH_OFFER = gql`\r\n  fragment NetSubscriptionInfoWithOffer on NetSubscription {\r\n    operator {\r\n      name\r\n    }\r\n    active\r\n    name\r\n    type\r\n    speed\r\n    eu\r\n    price\r\n    hasOffer\r\n    offer\r\n    offerLength\r\n    bindingOffer\r\n    offerValue\r\n    oneTimeDiscount\r\n    id\r\n  }\r\n`;\r\n\r\nexport const SA_INFO = gql`\r\n  fragment ServiceAgreementInfo on ServiceAgreement {\r\n    type\r\n    name\r\n    antiVirus\r\n    antiVirusAmount\r\n    VPN\r\n    VPNAmount\r\n    cloud\r\n    cloudLimit\r\n    office365\r\n    support\r\n    remoteFix\r\n    id\r\n    length\r\n    price\r\n  }\r\n`;\r\n","import { gql } from '@apollo/client';\r\nimport { SUBSCRIPTION_INFO, SUBSCRIPTION_INFO_WITH_OFFER, NET_SUBSCRIPTION_INFO, NET_SUBSCRIPTION_INFO_WITH_OFFER } from './fragments';\r\n\r\nexport const ALL_SUBSCRIPTIONS = gql`\r\n  query {\r\n    allSubscriptions {\r\n      ...SubscriptionInfo\r\n    }\r\n  }\r\n  ${SUBSCRIPTION_INFO}\r\n`;\r\n\r\nexport const ALL_NET_SUBSCRIPTIONS = gql`\r\nquery {\r\n  allNetSubscriptions {\r\n    ...NetSubscriptionInfo\r\n  }\r\n}\r\n${NET_SUBSCRIPTION_INFO}\r\n`;\r\n\r\nexport const ALL_SUBSCRIPTIONS_WITH_OFFER = gql`\r\n  query {\r\n    allSubscriptionsWithOffer {\r\n      ...SubscriptionInfoWithOffer\r\n    }\r\n  }\r\n  ${SUBSCRIPTION_INFO_WITH_OFFER}\r\n`;\r\n\r\nexport const ALL_NET_SUBSCRIPTIONS_WITH_OFFER = gql`\r\n  query {\r\n    allNetSubscriptionsWithOffer {\r\n      ...NetSubscriptionInfoWithOffer\r\n    }\r\n  }\r\n  ${NET_SUBSCRIPTION_INFO_WITH_OFFER}\r\n`;\r\n\r\nexport const ALL_ACTIVE_SUBSCRIPTIONS = gql`\r\n  query {\r\n    allActiveSubscriptions {\r\n      ...SubscriptionInfo\r\n    }\r\n  }\r\n  ${SUBSCRIPTION_INFO}\r\n`;\r\n\r\nexport const ALL_ACTIVE_NET_SUBSCRIPTIONS = gql`\r\n  query {\r\n    allActiveNetSubscriptions {\r\n      ...NetSubscriptionInfo\r\n    }\r\n  }\r\n  ${NET_SUBSCRIPTION_INFO}\r\n`;\r\n\r\n\r\nexport const GET_SUBSCRIPTIONS_BY_OPERATOR = gql`\r\n  query getSubscriptionsByOperator($id: ID!) {\r\n    getSubscriptionsByOperator(id: $id) {\r\n      name\r\n      id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_SUBSCRIPTION = gql`\r\n  mutation addSubscription(\r\n    $operator: String!\r\n    $name: String!\r\n    $talk: String!\r\n    $sms: String!\r\n    $speed: String!\r\n    $unlimited: Boolean!\r\n    $eu: Int!\r\n    $active: Boolean!\r\n    $price: String!\r\n  ) {\r\n    addSubscription(\r\n      operator: $operator\r\n      name: $name\r\n      talk: $talk\r\n      sms: $sms\r\n      speed: $speed\r\n      unlimited: $unlimited\r\n      eu: $eu\r\n      active: $active\r\n      price: $price\r\n    ) {\r\n      ...SubscriptionInfo\r\n    }\r\n  }\r\n  ${SUBSCRIPTION_INFO}\r\n`;\r\n\r\nexport const ADD_NET_SUBSCRIPTION = gql`\r\n  mutation addNetSubscription(\r\n    $operator: String!\r\n    $name: String!\r\n    $type: String!    \r\n    $speed: String!    \r\n    $eu: Int!\r\n    $active: Boolean!\r\n    $price: String!\r\n  ) {\r\n    addNetSubscription(\r\n      operator: $operator\r\n      name: $name\r\n      type: $type   \r\n      speed: $speed    \r\n      eu: $eu\r\n      active: $active\r\n      price: $price\r\n    ) {\r\n      ...NetSubscriptionInfo\r\n    }\r\n  }\r\n  ${NET_SUBSCRIPTION_INFO}\r\n`;\r\n\r\nexport const EDIT_SUBSCRIPTION = gql`\r\n  mutation modifiSubscription(\r\n    $id: ID!\r\n    $name: String\r\n    $talk: String\r\n    $sms: String\r\n    $speed: String\r\n    $unlimited: Boolean\r\n    $eu: Int\r\n    $active: Boolean\r\n    $price: String\r\n  ) {\r\n    modifySubscription(\r\n      id: $id\r\n      name: $name\r\n      talk: $talk\r\n      sms: $sms\r\n      speed: $speed\r\n      unlimited: $unlimited\r\n      eu: $eu\r\n      active: $active\r\n      price: $price\r\n    ) {\r\n      ...SubscriptionInfo\r\n    }\r\n  }\r\n  ${SUBSCRIPTION_INFO}\r\n`;\r\n\r\nexport const EDIT_NET_SUBSCRIPTION = gql`\r\n  mutation modifyNetSubscription(\r\n    $id: ID!\r\n    $name: String\r\n    $type: String    \r\n    $speed: String    \r\n    $eu: Int\r\n    $active: Boolean\r\n    $price: String\r\n  ) {\r\n    modifyNetSubscription(\r\n      id: $id\r\n      name: $name\r\n      type: $type     \r\n      speed: $speed      \r\n      eu: $eu\r\n      active: $active\r\n      price: $price\r\n    ) {\r\n      ...NetSubscriptionInfo\r\n    }\r\n  }\r\n  ${NET_SUBSCRIPTION_INFO}\r\n`;\r\n\r\nexport const DELETE_SUBSCRIPTION = gql`\r\n  mutation deleteSubscription($id: ID!) {\r\n    deleteSubscription(id: $id) {\r\n      name\r\n      id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const DELETE_NET_SUBSCRIPTION = gql`\r\n  mutation deleteNetSubscription($id: ID!) {\r\n    deleteSubscription(id: $id) {\r\n      name\r\n      id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ALL_OPERATORS = gql`\r\n  query {\r\n    allOperators {\r\n      name\r\n      id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_OFFER = gql`\r\n  mutation addOffer(\r\n    $id: ID!\r\n    $offer: String!\r\n    $offerLength: Int\r\n    $bindingOffer: Boolean\r\n    $oneTimeDiscount: Int\r\n    $offerValue: Int\r\n  ) {\r\n    addOffer(\r\n      id: $id\r\n      offer: $offer\r\n      offerLength: $offerLength\r\n      bindingOffer: $bindingOffer\r\n      oneTimeDiscount: $oneTimeDiscount\r\n      offerValue: $offerValue\r\n    ) {\r\n      ...SubscriptionInfoWithOffer\r\n    }\r\n  }\r\n  ${SUBSCRIPTION_INFO_WITH_OFFER}\r\n`;\r\n\r\nexport const ADD_NET_OFFER = gql`\r\n  mutation addNetOffer(\r\n    $id: ID!\r\n    $offer: String!\r\n    $offerLength: Int\r\n    $bindingOffer: Boolean\r\n    $oneTimeDiscount: Int\r\n    $offerValue: Int\r\n  ) {\r\n    addNetOffer(\r\n      id: $id\r\n      offer: $offer\r\n      offerLength: $offerLength\r\n      bindingOffer: $bindingOffer\r\n      oneTimeDiscount: $oneTimeDiscount\r\n      offerValue: $offerValue\r\n    ) {\r\n      ...NetSubscriptionInfoWithOffer\r\n    }\r\n  }\r\n  ${NET_SUBSCRIPTION_INFO_WITH_OFFER}\r\n`;\r\n\r\nexport const REMOVE_OFFER = gql`\r\n  mutation removeOffer($id: ID!) {\r\n    removeOffer(id: $id) {\r\n      id\r\n    }\r\n  }\r\n`;\r\n\r\nexport const REMOVE_NET_OFFER = gql`\r\n  mutation removeNetOffer($id: ID!) {\r\n    removeNetOffer(id: $id) {\r\n      id\r\n    }\r\n  }\r\n`;\r\n\r\n","import React from 'react';\r\nimport {\r\n  Button,\r\n  Dimmer,\r\n  Form,\r\n  Icon,\r\n  Input,\r\n  Label,\r\n  Loader,\r\n  Placeholder,\r\n  Radio,\r\n  Segment,\r\n} from 'semantic-ui-react';\r\n\r\nexport const XorVIcon = ({ value }) => {\r\n  if (typeof value !== 'boolean') {\r\n    return null;\r\n  }\r\n  return value ? (\r\n    <Icon name=\"check circle\" color=\"green\" />\r\n  ) : (\r\n    <Icon name=\"x\" color=\"red\" />\r\n  );\r\n};\r\n\r\nexport const PlaceholderTable = () => {\r\n  return (\r\n    <Placeholder className=\"placeholderContainer\">\r\n      <Placeholder.Header image>\r\n        <Placeholder.Line />\r\n        <Placeholder.Line />\r\n      </Placeholder.Header>\r\n      <Placeholder.Paragraph>\r\n        <Placeholder.Line />\r\n        <Placeholder.Line />\r\n        <Placeholder.Line />\r\n        <Placeholder.Line />\r\n      </Placeholder.Paragraph>\r\n      <Placeholder.Paragraph>\r\n        <Placeholder.Line />\r\n        <Placeholder.Line />\r\n        <Placeholder.Line />\r\n        <Placeholder.Line />\r\n      </Placeholder.Paragraph>\r\n    </Placeholder>\r\n  );\r\n};\r\n\r\nexport const Loading = () => {\r\n  return (\r\n    <div>\r\n      <Segment style={{ height: '300px' }}>\r\n        <Dimmer active inverted>\r\n          <Loader inverted>Loading</Loader>\r\n        </Dimmer>\r\n      </Segment>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const ErrorMessage = ({ error }) => {\r\n  console.log(error);\r\n  return <div>Virhe</div>;\r\n};\r\n\r\nexport const inputError = (field) => {\r\n  return (\r\n    <Label pointing color=\"yellow\">\r\n      {field}\r\n    </Label>\r\n  );\r\n};\r\n\r\nexport const FormInput = ({\r\n  label,\r\n  name,\r\n  type,\r\n  onChange,\r\n  onBlur,\r\n  value,\r\n  error,\r\n  touched,\r\n  disabled,\r\n  placeholder,\r\n  wholeNumbers\r\n}) => {\r\n  return (\r\n    <Form.Field>\r\n      <Form.Field label={label}></Form.Field>\r\n      <Input\r\n        disabled={disabled}\r\n        name={name}\r\n        type={type}\r\n        onChange={onChange}\r\n        onBlur={onBlur}\r\n        value={value}\r\n        placeholder={placeholder}\r\n        step={type === 'number' && !wholeNumbers ? '.01' : undefined}\r\n      />\r\n      <div>{touched && error ? inputError(error) : null}</div>\r\n    </Form.Field>\r\n  );\r\n};\r\n\r\nexport const FormRadio = ({ label, id, name, checked, onChange, disabled }) => {\r\n  return (\r\n    <Form.Input>\r\n      <Form.Group className=\"radioLabelGroup\">\r\n        <Form.Field label={label}></Form.Field>\r\n        <Radio\r\n          disabled={disabled}\r\n          id={id}\r\n          type=\"checkbox\"\r\n          toggle\r\n          name={name}\r\n          checked={checked}\r\n          onChange={onChange}\r\n        />\r\n      </Form.Group>\r\n    </Form.Input>\r\n  );\r\n};\r\n\r\nexport const AddRemoveInput = ({ action, amount }) => {\r\n  return (\r\n    <div className=\"flexRow addRemoveInputContainer\">\r\n      <Button icon=\"minus\" onClick={() => action('SUBTRACT')} />\r\n      <Label className=\"amount\">{amount}</Label>\r\n      <Button icon=\"add\" onClick={() => action('ADD')} />\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/Telia_48px.032596ca.png\";","export default __webpack_public_path__ + \"static/media/Elisa_300px.c0785154.png\";","export default __webpack_public_path__ + \"static/media/Telia_300px.9315b503.png\";","import React from 'react';\r\nimport { Icon, Image, Label } from 'semantic-ui-react';\r\nimport {\r\n  dnaLogo as dnaLogoSmall,\r\n  elisaLogo as elisaLogoSmall,\r\n  teliaLogo as teliaLogoSmall,\r\n  teliaLogoMed,\r\n  elisaLogoMed,\r\n  dnaLogoMed,\r\n} from '../../media/logos/index';\r\n\r\nexport const OperatorLogo = ({ operator, size }) => {\r\n  switch (operator) {\r\n    case 'Dna':\r\n      return (\r\n        <Image\r\n          src={size === 'medium' ? dnaLogoMed : dnaLogoSmall}\r\n          alt=\"DNA\"\r\n          wrapped\r\n        />\r\n      );\r\n    case 'Telia':\r\n      return (\r\n        <Image\r\n          src={size === 'medium' ? teliaLogoMed : teliaLogoSmall}\r\n          alt=\"Telia\"\r\n          wrapped\r\n        />\r\n      );\r\n    case 'Elisa':\r\n      return (\r\n        <Image\r\n          src={size === 'medium' ? elisaLogoMed : elisaLogoSmall}\r\n          alt=\"Elisa\"\r\n          wrapped\r\n        />\r\n      );\r\n      case 'muu':\r\n        return (          \r\n          <Label> <Icon\r\n            name='shield'\r\n            size='big'\r\n            alt=\"Muu\"          \r\n          /> Muu\r\n          </Label>\r\n        );\r\n    default:\r\n      return null;\r\n  }\r\n};\r\n","export default \"data:image/png;base64,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qwhGjgWUoUF2/eB/8LtbKzc16SUFI0Dni+N8jACBXaBedZzvY8epnwD+Z+BKb/rLNWD2k/RqUwsdAf3bwMV1U1P2gMsdYPDJkE3Zlfw0hVwOeD+jb8oAA7dAz5rXW2Mfpw9AirpavgEODoHRPGWvt3l3V2tv/55p9PcDaKNyoxC/4L0AAALNUExURQAAAP///wAAANsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAetsAevHB8TEAAAABdFJOUwBA5thmAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB+QLFAcPMqOqWScAAAKySURBVHja7d1BbsMwDARAAvz/n4sCPTeSJTKKMns2lvK0tWE5SCNlNBEMYMGCBQsWLAawYMGCBQsWA1iwYMGCBYsBLFiwYMGCxQAWLFiwYMFiAAsWLFiwYDGABQsWLFiwGMCCBQsWLFgMYMGCBQsWLAawYMGCBQsWA1iwYMGCBYsBLFiwYMGCxQAWLFiwYMFiAAsWLFiwYDGABQsWLFiwGMCCBQsWrE89xb+0YcVQHpzBnrrhMQdhjS9nc93MjJOwxhp3980NOAhrZDWb62brj8KK7r7p9pOwXvVGpVbVH3cdVrT2tdw7CrH+rY4yrcJLYSlW9OE/Kz4KK9rwq+7anVjRhd9x3/g0rMh33TY6sKKp7w6saMSKqNWqx4oW/MLr4CdjxdVY0YRVcxn8cKy4GitasF4ev+Op8zHW+HqH+iZO//G+6ElYE6vZXDd66FFYuRcrV7EWChuwci/WcN/241qw8ulPuABruPBtWLkXK+PxvWWpsAkr92IlrMWnmPL1vRMrFrDyaqyEBetirIQFCxYsWLBgwYIFCxYsWLBgwYIFCxYsWLBg1byw2P95NliwYMGCBQsWLFiwYMGCBQsWLFiwYMGyrQwLFixYsGDBggUL1pVYAWsJK2E9/8WCBWt6QMAaHjC4XQQrt38l1M1Y4xuRX481s2n7bVhLO9ywJt4GwIK1jJWwYFVgJazVd72wlp62YSUsWAVYU31fjpWw9nzmCdbEfFgT02FNzIY1MRnW+FhYc/9262IsgQULFixYsAQWLFiwYMESWLBgwYIFS2DBggULFiyBBQsWLFiwBBYsWLBgwRJYsGDBggVLYMGCBQsWLIEFCxYsWLAEFixYsGDBEliwYMGCBUtgwYIFCxYsgQULFixYsAQWLFiwYMESWLBgwYIFS2DBggULFiz5xfoBBw997GQWjucAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,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2wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB62wB68cHxMQAAAAF0Uk5TAEDm2GYAAAABYktHRACIBR1IAAAACXBIWXMAAAsSAAALEgHS3X78AAAAB3RJTUUH5AsUBw4sQL5VBQAAAFNJREFUSMft1MEKACAIA9CB///PdSjCVFCoQ7FdZIcHIRKkGBAQ/AUAAzBiy6wBgCmGbwBeEResEZenAUpA7fUKKD/p1JbUNeSBFIFkAX8NAoKeBhLOFyAARc4nAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport { Icon } from 'semantic-ui-react';\r\n\r\nconst CompareSubRow = ({\r\n  feature,\r\n  current,\r\n  compareTo,\r\n  suffix,\r\n  unlimitedDataCurrent,\r\n  unlimitedDataOffer,\r\n  offerBetter,\r\n  \r\n}) => {\r\n  const showStar = () => {\r\n    switch (feature) {\r\n      case 'Puhe':\r\n      case 'Viestit':\r\n        if (current === 'Rajaton') {\r\n          return false;\r\n        } else if (compareTo === 'Rajaton') {\r\n          return true;\r\n        } else if (compareTo > current) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      case 'Nettinopeus':\r\n      case 'Eu data':\r\n        if (compareTo > current) {\r\n          return true;\r\n        }\r\n        return false;\r\n      case 'Norm. hinta':\r\n        if (compareTo <= current) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      case 'Tarjoushinta':\r\n        if (typeof current === 'object') {\r\n          return true;\r\n        } else if (compareTo <= current) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      case 'Lahjakortti':\r\n        return true;\r\n\r\n      case 'Rajaton netti':\r\n        if (unlimitedDataCurrent) {\r\n          return false;\r\n        } else if (unlimitedDataOffer) {\r\n          return true;\r\n        } else {\r\n          return false;\r\n        }\r\n      case 'Ei määräaikaa':\r\n        return true;\r\n      case 'Tietoturva':\r\n        return offerBetter ? true : false;\r\n      case 'Tietoturva lisenssit':\r\n        return current < compareTo ? true : false;\r\n      case 'VPN lisenssit':\r\n        return current < compareTo ? true : false;\r\n      case 'VPN':\r\n        return offerBetter ? true : false;\r\n      case 'Rajaton pilvipalvelu':\r\n        return current ? true : false;\r\n      case 'Ilmainen puhelintuki':\r\n        return current ? true : false;\r\n      case 'Hinta / kuukausi':        \r\n        return current >= compareTo ? true : false;\r\n      default:\r\n        return false;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"offerCardLine compareLine\">\r\n      {feature === 'Tarjouksen pituus' ||\r\n      feature === 'Lahjakortti' ||\r\n      feature === 'Ei määräaikaa' ? (\r\n        <>\r\n          <div className=\"compareItem\"> </div>\r\n          <span style={{ borderBottom: '0' }} />\r\n        </>\r\n      ) : (\r\n        <>\r\n          <div\r\n            className={`compareItem left ${\r\n              typeof current === 'object' && 'center'\r\n            }`}\r\n          >\r\n            {current}\r\n            <span className=\"small\">\r\n              {' '}\r\n              {current !== 'Rajaton' && typeof current !== 'object' && suffix}\r\n            </span>\r\n          </div>\r\n          <span />\r\n        </>\r\n      )}\r\n      <p>{feature}</p>\r\n      <span />\r\n      <div\r\n        className={`compareItem ${typeof compareTo === 'object' && 'center'}`}\r\n      >\r\n        {compareTo}\r\n        <span className=\"small\"> {compareTo !== 'Rajaton' && suffix}</span>\r\n      </div>\r\n      {showStar() ? <Icon name=\"star\" color=\"yellow\" /> : <Icon />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CompareSubRow;\r\n","import React from 'react';\r\nimport { Header } from 'semantic-ui-react';\r\n\r\nimport { XorVIcon } from '../utils/FormHelpers';\r\nimport { OperatorLogo } from '../utils/OperatorLogo';\r\nimport CompareSubRow from './CompareSubRow';\r\n\r\nconst CompareOfferTable = ({\r\n  currentSub,\r\n  offerSub,\r\n  currentSubOffer,\r\n  handleManualOffer,\r\n  shoppingCart,\r\n}) => {\r\n  return (\r\n    <>\r\n      <div\r\n        className={`compereRowContainer ${\r\n          shoppingCart && 'shoppingCartOfferTable'\r\n        }`}\r\n      >\r\n        <div className=\"compareHeader\">\r\n          <div className=\"flexColumn\">\r\n            <OperatorLogo operator={currentSub.operator.name} />\r\n            <Header as=\"h3\">{currentSub.name}</Header>\r\n          </div>\r\n          <span />\r\n          <div className=\"flexColumn\">\r\n            <OperatorLogo operator={offerSub.operator.name} />\r\n            <Header as=\"h3\">{offerSub.name}</Header>\r\n          </div>\r\n        </div>\r\n        {!offerSub.type ? (\r\n          <>\r\n            <CompareSubRow\r\n              feature=\"Puhe\"\r\n              suffix=\"min\"\r\n              current={currentSub.talk}\r\n              compareTo={offerSub.talk}\r\n            />\r\n            <CompareSubRow\r\n              feature=\"Viestit\"\r\n              suffix=\"kpl\"\r\n              current={currentSub.sms}\r\n              compareTo={offerSub.sms}\r\n            />\r\n          </>\r\n        ) : (\r\n          <CompareSubRow\r\n            feature=\"Tekniikka\"\r\n            current={currentSub.type}\r\n            compareTo={offerSub.type}\r\n          />\r\n        )}\r\n        <CompareSubRow\r\n          feature=\"Nettinopeus\"\r\n          suffix=\"Mbit/s\"\r\n          current={currentSub.speed}\r\n          compareTo={offerSub.speed}\r\n        />\r\n        {!offerSub.type && (\r\n          <CompareSubRow\r\n            feature=\"Rajaton netti\"\r\n            current={<XorVIcon value={currentSub.unlimited} />}\r\n            compareTo={<XorVIcon value={offerSub.unlimited} />}\r\n            unlimitedDataCurrent={currentSub.unlimited}\r\n            unlimitedDataOffer={offerSub.unlimited}\r\n          />\r\n        )}\r\n        {!(\r\n          offerSub.type === 'ADSL' ||\r\n          offerSub.type === 'VDSL' ||\r\n          offerSub.type === 'Kaapeli' ||\r\n          offerSub.type === 'Valokuitu'\r\n        ) && (\r\n          <CompareSubRow\r\n            feature=\"Eu data\"\r\n            suffix=\"Gt/kk\"\r\n            current={currentSub.eu}\r\n            compareTo={offerSub.eu}\r\n          />\r\n        )}\r\n        <CompareSubRow\r\n          feature=\"Norm. hinta\"\r\n          suffix=\"€/kk\"\r\n          current={currentSub.price}\r\n          compareTo={offerSub.price}\r\n        />\r\n        <CompareSubRow\r\n          feature=\"Tarjoushinta\"\r\n          suffix=\"€/kk\"\r\n          current={\r\n            currentSubOffer ? currentSubOffer : <XorVIcon value={false} />\r\n          }\r\n          compareTo={offerSub.offer}\r\n        />\r\n        <CompareSubRow\r\n          feature=\"Tarjouksen pituus\"\r\n          suffix={`kk${offerSub.bindingOffer ? '*' : ''}`}\r\n          compareTo={offerSub.offerLength}\r\n        />\r\n        {!offerSub.bindingOffer ? (\r\n          <CompareSubRow\r\n            feature=\"Ei määräaikaa\"\r\n            compareTo={<XorVIcon value={true} />}\r\n          />\r\n        ) : null}\r\n        {parseInt(offerSub.oneTimeDiscount) ? (\r\n          <CompareSubRow\r\n            feature=\"Lahjakortti\"\r\n            suffix=\"€\"\r\n            compareTo={offerSub.oneTimeDiscount}\r\n          />\r\n        ) : (\r\n          handleManualOffer && handleManualOffer()\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CompareOfferTable;\r\n","import React, { useState } from 'react';\r\nimport * as Yup from 'yup';\r\nimport { Formik } from 'formik';\r\n\r\nimport { Button, Form, Label, Modal } from 'semantic-ui-react';\r\n\r\nimport { FormInput, FormRadio } from '../utils/FormHelpers';\r\nimport { OperatorLogo } from '../utils/OperatorLogo';\r\n\r\n\r\nconst validationSchema = new Yup.object().shape({\r\n  subscription: Yup.string().required('Liittymätyyppiä ei valittu'),\r\n  validOffer: Yup.boolean(),\r\n  currentOffer: Yup.number().when('validOffer', {\r\n    is: true,\r\n    then: Yup.number().required('Tarjoushinta puuttuu'),\r\n    otherwise: Yup.number().notRequired(),\r\n  }),\r\n});\r\n\r\nconst SelectCurrent = ({\r\n  operators,\r\n  subscriptions,\r\n  handleSelect,\r\n  handleClose,\r\n}) => {\r\n  const [selectedOperator, setSelectedOperator] = useState();\r\n\r\n  return (\r\n    <>\r\n      <Modal.Header>\r\n        <div className='flexRow'>\r\n          <div className=\"offerModalHeader\">Valitse nykyinen liittymä</div>\r\n          <Button className=\"closeButton\" onClick={handleClose} icon=\"x\" />\r\n        </div>\r\n      </Modal.Header>\r\n      <Modal.Content>\r\n        <Form>\r\n          <Form.Field>\r\n            {operators.map((opRef) => (\r\n              <Button\r\n                key={opRef.id}\r\n                onClick={() => setSelectedOperator(opRef.name)}\r\n                className={`selectedOperatorButton \r\n                  ${\r\n                    selectedOperator === opRef.name\r\n                      ? 'selectedOperatorButtonActive'\r\n                      : ''\r\n                  }\r\n                `}\r\n              >\r\n                <OperatorLogo operator={opRef.name} />\r\n              </Button>\r\n            ))}\r\n          </Form.Field>\r\n        </Form>\r\n        <Formik\r\n          initialValues={{\r\n            subscription: undefined,\r\n            validOffer: true,\r\n            currentOffer: '',\r\n          }}\r\n          validationSchema={validationSchema}\r\n          onSubmit={(values) => {\r\n            handleSelect(values.subscription, values.currentOffer);\r\n          }}\r\n        >\r\n          {(props) => (\r\n            <Form onSubmit={props.handleSubmit} id=\"currentSubscriptionForm\">\r\n              <Form.Field>\r\n                <Form.Field\r\n                  label=\"Valitse liittymätyyppi\"\r\n                  name=\"subscription\"\r\n                  control=\"select\"\r\n                  disabled={!selectedOperator}\r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                >\r\n                  <option></option>\r\n                  {subscriptions\r\n                    .filter(\r\n                      (subRef) => subRef.operator.name === selectedOperator\r\n                    )\r\n                    .map((subRef) => (\r\n                      <option key={subRef.id} value={subRef.id}>\r\n                        {subRef.name}\r\n                      </option>\r\n                    ))}\r\n                </Form.Field>\r\n                {props.errors.subscription && (\r\n                  <Label pointing color=\"yellow\">\r\n                    {props.errors.subscription}\r\n                  </Label>\r\n                )}\r\n              </Form.Field>\r\n              <FormRadio\r\n                id=\"validOffer\"\r\n                name=\"validOffer\"\r\n                label=\"Onko tarjous voimassa?\"\r\n                checked={props.values.validOffer === true}\r\n                onChange={props.handleChange}\r\n                disabled={!props.values.subscription}\r\n              />\r\n\r\n              <FormInput\r\n                label=\"Nykyinen tarjoushinta\"\r\n                placeholder=\"Nykyinen tarjoushinta\"\r\n                type=\"number\"\r\n                name=\"currentOffer\"\r\n                disabled={!props.values.validOffer}\r\n                onChange={props.handleChange}\r\n                onBlur={props.handleBlur}\r\n                error={props.errors.currentOffer}\r\n                touched={props.touched.currentOffer}\r\n              />\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Modal.Content>\r\n      <Modal.Actions>\r\n      <Button\r\n            type=\"submit\"\r\n            form=\"currentSubscriptionForm\"\r\n            content=\"Vertailuun\"\r\n            labelPosition=\"right\"\r\n            icon=\"checkmark\"\r\n            positive\r\n          />\r\n      </Modal.Actions>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SelectCurrent;\r\n","import { useQuery } from '@apollo/client';\r\nimport React, { useState } from 'react';\r\nimport { Button, Header, Input, Modal } from 'semantic-ui-react';\r\n\r\nimport { ALL_OPERATORS, ALL_SUBSCRIPTIONS } from '../../queries/subscription';\r\nimport { ErrorMessage, Loading, AddRemoveInput } from '../utils/FormHelpers';\r\nimport CompareOfferTable from './CompareOfferTable';\r\nimport CompareSubRow from './CompareSubRow';\r\nimport SelectCurrent from './SelectCurrent';\r\n\r\nconst CompareOffer = ({ offerSub, handleClose, handleShoppingCart }) => {\r\n  const { data, loading, error } = useQuery(ALL_SUBSCRIPTIONS, {\r\n    context: { scope: 'api://gappi/api/user' },\r\n  });\r\n  const operatorQuery = useQuery(ALL_OPERATORS, {\r\n    context: { scope: 'api://gappi/api/user' },\r\n  });\r\n  const [currentSub, setCurrentSub] = useState();\r\n  const [currentSubOffer, setCurrentSubOffer] = useState();\r\n  const [amount, setAmount] = useState(1);\r\n  const [manualOffer, setManualOffer] = useState(false);\r\n\r\n  if (loading || operatorQuery.loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  if (error || operatorQuery.error) {\r\n    return <ErrorMessage error={error} />;\r\n  }\r\n\r\n  const subscriptions = [...data.allSubscriptions].filter(\r\n    (subRef) => subRef.operator.name !== offerSub.operator.name\r\n  );\r\n\r\n  const handleSelect = (currentSubID, currentSubOfferRef) => {\r\n    setCurrentSub(\r\n      subscriptions.filter((subRef) => currentSubID === subRef.id)[0]\r\n    );\r\n    currentSubOfferRef && setCurrentSubOffer(currentSubOfferRef.toFixed(2));\r\n  };\r\n\r\n  const handleManualOffer = () => {\r\n    const handleChange = (e) => {\r\n      const value = e.target.value;\r\n      const regEx = /^[0-9]+$/g;\r\n      if (value.length > 2) {\r\n        return null;\r\n      } else if (regEx.test(value) || value === '') {\r\n        setManualOffer(value);\r\n      }\r\n    };\r\n\r\n    if (typeof manualOffer === 'string') {\r\n      return (\r\n        <CompareSubRow\r\n          feature=\"Lahjakortti\"\r\n          compareTo={\r\n            <Input\r\n              fluid\r\n              type=\"text\"\r\n              value={manualOffer}\r\n              onChange={handleChange}\r\n            />\r\n          }\r\n        />\r\n      );\r\n    }\r\n    return <Button icon=\"add\" onClick={() => setManualOffer('0')} />;\r\n  };\r\n\r\n  const handleAddSub = () => {\r\n    const newCartObject = {\r\n      id: offerSub.id.concat(currentSub.id),\r\n      offer: manualOffer\r\n        ? { ...offerSub, oneTimeDiscount: manualOffer }\r\n        : offerSub,\r\n      current: currentSubOffer\r\n        ? { ...currentSub, offer: currentSubOffer }\r\n        : currentSub,\r\n      amount: amount,\r\n    };\r\n    handleShoppingCart('ADD', newCartObject);\r\n    handleClose();\r\n  };\r\n\r\n  const handleChangeCurrent = () => {\r\n    setCurrentSub();\r\n    setCurrentSubOffer();\r\n  };\r\n\r\n  const handleAmount = (action) => {\r\n    if (amount < 1) {\r\n      setAmount(1);\r\n    } else if (action === 'ADD') {\r\n      setAmount(amount + 1);\r\n    } else if (action === 'SUBTRACT') {\r\n      amount > 1 && setAmount(amount - 1);\r\n    } else {\r\n      console.log('wrong input in handleAmount');\r\n    }\r\n  };\r\n\r\n  const operators = [...operatorQuery.data.allOperators].filter(\r\n    (opRef) => opRef.name !== offerSub.operator.name\r\n  );\r\n\r\n  if (!currentSub) {\r\n    return (\r\n      <SelectCurrent\r\n        operators={operators}\r\n        subscriptions={subscriptions}\r\n        handleSelect={handleSelect}\r\n        handleClose={handleClose}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Modal.Header>\r\n        <div className=\"flexRow\">\r\n          <Header className=\"offerModalHeader\">Liittymävertailu</Header>\r\n          <Button className=\"closeButton\" onClick={handleClose} icon=\"x\" />\r\n        </div>\r\n      </Modal.Header>\r\n      <Modal.Content>\r\n        <CompareOfferTable\r\n          currentSub={currentSub}\r\n          offerSub={offerSub}\r\n          currentSubOffer={currentSubOffer}\r\n          handleManualOffer={handleManualOffer}\r\n        />\r\n      </Modal.Content>\r\n      <Modal.Actions className=\"flexRow\">\r\n        <Button onClick={handleChangeCurrent}>Vaihda nykyistä liittymää</Button>\r\n        <AddRemoveInput action={handleAmount} amount={amount} />\r\n\r\n        <Button\r\n          content=\"Lisää koriin\"\r\n          labelPosition=\"right\"\r\n          icon=\"plus\"\r\n          positive\r\n          onClick={handleAddSub}\r\n        />\r\n      </Modal.Actions>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CompareOffer;\r\n","import { useQuery } from '@apollo/client';\r\nimport React, { useState } from 'react';\r\nimport { Button, Header, Input, Modal } from 'semantic-ui-react';\r\n\r\nimport { ALL_OPERATORS, ALL_NET_SUBSCRIPTIONS } from '../../queries/subscription';\r\nimport { ErrorMessage, Loading, AddRemoveInput } from '../utils/FormHelpers';\r\nimport CompareOfferTable from '../subscriptions/CompareOfferTable';\r\nimport CompareSubRow from '../subscriptions/CompareSubRow';\r\nimport SelectCurrent from '../subscriptions/SelectCurrent';\r\n\r\nconst CompareOffer = ({ offerSub, handleClose, handleShoppingCart }) => {\r\n  const { data, loading, error } = useQuery(ALL_NET_SUBSCRIPTIONS, {\r\n    context: { scope: 'api://gappi/api/user' },\r\n  });\r\n  const operatorQuery = useQuery(ALL_OPERATORS, {\r\n    context: { scope: 'api://gappi/api/user' },\r\n  });\r\n  const [currentSub, setCurrentSub] = useState();\r\n  const [currentSubOffer, setCurrentSubOffer] = useState();\r\n  const [amount, setAmount] = useState(1);\r\n  const [manualOffer, setManualOffer] = useState(false);\r\n\r\n  if (loading || operatorQuery.loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  if (error || operatorQuery.error) {\r\n    return <ErrorMessage error={error} />;\r\n  }\r\n\r\n  const subscriptions = [...data.allNetSubscriptions].filter(\r\n    (subRef) => subRef.operator.name !== offerSub.operator.name\r\n  );\r\n\r\n  const handleSelect = (currentSubID, currentSubOfferRef) => {\r\n    setCurrentSub(\r\n      subscriptions.filter((subRef) => currentSubID === subRef.id)[0]\r\n    );\r\n    currentSubOfferRef && setCurrentSubOffer(currentSubOfferRef.toFixed(2));\r\n  };\r\n\r\n  const handleManualOffer = () => {\r\n    const handleChange = (e) => {\r\n      const value = e.target.value;\r\n      const regEx = /^[0-9]+$/g;\r\n      if (value.length > 2) {\r\n        return null;\r\n      } else if (regEx.test(value) || value === '') {\r\n        setManualOffer(value);\r\n      }\r\n    };\r\n\r\n    if (typeof manualOffer === 'string') {\r\n      return (\r\n        <CompareSubRow\r\n          feature=\"Lahjakortti\"\r\n          compareTo={\r\n            <Input\r\n              fluid\r\n              type=\"text\"\r\n              value={manualOffer}\r\n              onChange={handleChange}\r\n            />\r\n          }\r\n        />\r\n      );\r\n    }\r\n    return <Button icon=\"add\" onClick={() => setManualOffer('0')} />;\r\n  };\r\n\r\n  const handleAddSub = () => {\r\n    const newCartObject = {\r\n      id: offerSub.id.concat(currentSub.id),\r\n      offer: manualOffer\r\n        ? { ...offerSub, oneTimeDiscount: manualOffer }\r\n        : offerSub,\r\n      current: currentSubOffer\r\n        ? { ...currentSub, offer: currentSubOffer }\r\n        : currentSub,\r\n      amount: amount,\r\n    };\r\n    handleShoppingCart('ADD', newCartObject);\r\n    handleClose();\r\n  };\r\n\r\n  const handleChangeCurrent = () => {\r\n    setCurrentSub();\r\n    setCurrentSubOffer();\r\n  };\r\n\r\n  const handleAmount = (action) => {\r\n    if (amount < 1) {\r\n      setAmount(1);\r\n    } else if (action === 'ADD') {\r\n      setAmount(amount + 1);\r\n    } else if (action === 'SUBTRACT') {\r\n      amount > 1 && setAmount(amount - 1);\r\n    } else {\r\n      console.log('wrong input in handleAmount');\r\n    }\r\n  };\r\n\r\n  const operators = [...operatorQuery.data.allOperators].filter(\r\n    (opRef) => opRef.name !== offerSub.operator.name\r\n  );\r\n\r\n  if (!currentSub) {\r\n    return (\r\n      <SelectCurrent\r\n        operators={operators}\r\n        subscriptions={subscriptions}\r\n        handleSelect={handleSelect}\r\n        handleClose={handleClose}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Modal.Header>\r\n        <div className=\"flexRow\">\r\n          <Header className=\"offerModalHeader\">Liittymävertailu</Header>\r\n          <Button className=\"closeButton\" onClick={handleClose} icon=\"x\" />\r\n        </div>\r\n      </Modal.Header>\r\n      <Modal.Content>\r\n        <CompareOfferTable\r\n          currentSub={currentSub}\r\n          offerSub={offerSub}\r\n          currentSubOffer={currentSubOffer}\r\n          handleManualOffer={handleManualOffer}\r\n        />\r\n      </Modal.Content>\r\n      <Modal.Actions className=\"flexRow\">\r\n        <Button onClick={handleChangeCurrent}>Vaihda nykyistä liittymää</Button>\r\n        <AddRemoveInput action={handleAmount} amount={amount} />\r\n\r\n        <Button\r\n          content=\"Lisää koriin\"\r\n          labelPosition=\"right\"\r\n          icon=\"plus\"\r\n          positive\r\n          onClick={handleAddSub}\r\n        />\r\n      </Modal.Actions>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CompareOffer;\r\n","import React from 'react';\r\n\r\nimport { Card, Divider } from 'semantic-ui-react';\r\nimport { XorVIcon } from '../utils/FormHelpers';\r\n\r\nimport { OperatorLogo } from '../utils/OperatorLogo';\r\n\r\nconst OfferCard = ({sub, ...rest}) => { \r\n  \r\n  return (\r\n    <div {...rest}>\r\n    <Card raised className='offerCard' >\r\n      <div className=\"offerCardLogo\">\r\n        <OperatorLogo operator={sub.operator.name} size=\"medium\" />\r\n      </div>\r\n      <Card.Content>\r\n        <Card.Header>{sub.name}</Card.Header>\r\n        <Divider />\r\n        <Card.Description>\r\n          <div className=\"offerCardLine\">\r\n            <p>Tarjous:</p>\r\n            <span></span>\r\n            <p>{sub.offer}<span className='small'>€/kk</span></p>\r\n          </div>\r\n          {sub.oneTimeDiscount !== 0 && (\r\n            <div className=\"offerCardLine\">\r\n              <p>Lahjakortti:</p>\r\n              <span></span>\r\n              <p>{sub.oneTimeDiscount}<span className='small'>€</span></p>\r\n            </div>\r\n          )}\r\n          <div className=\"offerCardLine\">\r\n            <p>Pituus:</p>\r\n            <span></span>\r\n            <p>\r\n              {sub.offerLength}<span className='small'>kk{sub.bindingOffer && '*'}</span>\r\n            </p>\r\n          </div>\r\n          {!sub.bindingOffer && <div className=\"offerCardLine\">\r\n              <p>Ei määräaikaa:</p>\r\n              <span></span>\r\n              <XorVIcon value={true} />\r\n            </div>}\r\n        </Card.Description>\r\n      </Card.Content>\r\n      <Card.Content extra>\r\n      {sub.bindingOffer && <p>* määräaikainen sopimus</p>}\r\n    </Card.Content>\r\n    </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OfferCard;\r\n","import React from 'react';\r\n\r\nconst OfferCardRow = ({ feature, value, suffix }) => {\r\n  let styles = {};\r\n  switch (feature) {\r\n    case 'Tarjous':\r\n      styles = { fontSize: '2.5em' };\r\n      break;\r\n    case 'Norm. hinta':\r\n      styles = { textDecoration: 'line-through', color: 'grey' };\r\n      break;\r\n    case 'Lahjakortti':\r\n      styles = { fontSize: '2.5em' };\r\n      break;\r\n    case 'Kuukausihinta:':\r\n      styles = { fontSize: '2.5em' };\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n\r\n  return (\r\n    <div className=\"offerCardLine\">\r\n      <p>{feature}</p>\r\n      <span></span>\r\n      <p style={styles}>\r\n        {value}\r\n        <span className=\"small\"> {suffix}</span>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OfferCardRow;\r\n","import React from 'react';\r\n\r\nimport { XorVIcon } from '../utils/FormHelpers';\r\nimport OfferCardRow from './OfferCardRow';\r\n\r\nconst SubscriptionTable = ({ subRef }) => {  \r\n  return (\r\n    <div className=\"subscriptionDetailContainer\">\r\n      <div>\r\n        {subRef.type && (\r\n          <OfferCardRow feature=\"Tekniikka\" value={subRef.type} />\r\n        )}\r\n        {!subRef.type && (\r\n          <OfferCardRow\r\n            feature=\"Puhe\"\r\n            value={subRef.talk}\r\n            suffix={subRef.talk !== 'Rajaton' && 'min'}\r\n          />\r\n        )}\r\n        {!subRef.type && (\r\n          <OfferCardRow\r\n            feature=\"Viestit\"\r\n            value={subRef.sms}\r\n            suffix={subRef.sms !== 'Rajaton' && 'kpl'}\r\n          />\r\n        )}\r\n        <OfferCardRow\r\n          feature=\"Nettinopeus\"\r\n          value={subRef.speed}\r\n          suffix=\"Mbit/s\"\r\n        />\r\n        {!subRef.type && (\r\n          <OfferCardRow\r\n            feature=\"Rajaton netti\"\r\n            value={<XorVIcon value={subRef.unlimited} />}\r\n          />\r\n        )}\r\n        { !(subRef.type === \"VDSL\" || subRef.type === \"ADSL\" || subRef.type === \"kaapeli\" || subRef.type === \"valokuitu\") &&\r\n        <OfferCardRow feature=\"EU data\" value={subRef.eu} suffix=\"Gt/kk\" />\r\n        } \r\n      </div>\r\n      <div>\r\n        <OfferCardRow feature=\"Tarjous\" value={subRef.offer} suffix=\"€/kk\" />\r\n        <OfferCardRow\r\n          feature=\"Norm. hinta\"\r\n          value={subRef.price}\r\n          suffix=\"€/kk\"\r\n        />\r\n        {subRef.oneTimeDiscount ? (\r\n          <OfferCardRow\r\n            feature=\"Lahjakortti\"\r\n            value={subRef.oneTimeDiscount}\r\n            suffix=\"€\"\r\n          />\r\n        ) : null}\r\n        <OfferCardRow\r\n          feature=\"Pituus\"\r\n          value={subRef.offerLength}\r\n          suffix={`kk${subRef.bindingOffer ? '*' : ''}`}\r\n        />\r\n        {!subRef.bindingOffer && (\r\n          <OfferCardRow\r\n            feature=\"Ei määräaikaa\"\r\n            value={<XorVIcon value={true} />}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubscriptionTable;\r\n","import React, { useState } from 'react';\r\n\r\nimport { Button, Modal } from 'semantic-ui-react';\r\n\r\nimport { OperatorLogo } from '../utils/OperatorLogo';\r\nimport CompareOffer from './CompareOffer';\r\nimport CompareNetOffer from '../netsubscriptions/CompareNetOffer'\r\nimport OfferCard from './OfferCard';\r\nimport SubscriptionTable from './SubscriptionTable';\r\n\r\nconst OfferModal = ({ subRef, handleShoppingCart }) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [comparison, setComparison] = useState(false);\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleAddToShoppingCart = () => {\r\n    const newCartObject = {\r\n      id: subRef.id,\r\n      offer: subRef,\r\n      current: null,\r\n      amount: 1\r\n    };\r\n    handleShoppingCart('ADD', newCartObject);\r\n    handleClose();\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      onClose={() => setOpen(false)}\r\n      onOpen={() => {\r\n        setOpen(true);\r\n        setComparison(false);\r\n      }}\r\n      open={open}\r\n      trigger={<OfferCard sub={subRef}></OfferCard>}\r\n    >\r\n      {!comparison ? (\r\n        <>\r\n          <Modal.Header>\r\n            <div className={'flexRow'}>\r\n              <div className=\"offerModalHeader\">\r\n                <OperatorLogo operator={subRef.operator.name} />{' '}\r\n                <span style={{ paddingLeft: '2em' }}>{subRef.name}</span>\r\n              </div>\r\n              <Button\r\n                className=\"closeButton\"\r\n                onClick={() => setOpen(false)}\r\n                icon=\"x\"\r\n              />\r\n            </div>\r\n          </Modal.Header>\r\n          <Modal.Content>\r\n            <Modal.Description>\r\n              <SubscriptionTable subRef={subRef} />\r\n            </Modal.Description>\r\n          </Modal.Content>\r\n          <Modal.Actions>\r\n            <Button\r\n              content=\"Vertailu\"\r\n              labelPosition=\"right\"\r\n              icon=\"checkmark\"\r\n              onClick={() => setComparison(true)}\r\n              positive\r\n            />\r\n            <Button \r\n            content='Lisää koriin'\r\n            labelPosition='right'\r\n            icon='plus'\r\n            onClick={handleAddToShoppingCart}            \r\n            />\r\n          </Modal.Actions>\r\n        </>\r\n      ) : (\r\n        !subRef.type ? <CompareOffer offerSub={subRef} handleClose={handleClose} handleShoppingCart={handleShoppingCart} /> : <CompareNetOffer  offerSub={subRef} handleClose={handleClose} handleShoppingCart={handleShoppingCart}/>\r\n      )}\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default OfferModal;\r\n","import { useQuery } from '@apollo/client';\r\nimport React from 'react';\r\n\r\nimport { ALL_SUBSCRIPTIONS_WITH_OFFER } from '../../queries/subscription';\r\nimport { ErrorMessage, Loading } from '../utils/FormHelpers';\r\nimport OfferModal from './OfferModal';\r\n\r\nconst SubscriptMain = ({ handleShoppingCart }) => {\r\n  const { data, loading, error } = useQuery(ALL_SUBSCRIPTIONS_WITH_OFFER, {\r\n    context: { scope: 'api://gappi/api/user' },\r\n  });\r\n\r\n  if (loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <ErrorMessage error={error} />;\r\n  }\r\n\r\n  let subscriptions = [...data.allSubscriptionsWithOffer].sort(\r\n    (current, next) => next.offerValue - current.offerValue\r\n  );\r\n\r\n  return (\r\n    <div className=\"offerContainer\">\r\n      {subscriptions.map((subRef) => (\r\n        <OfferModal\r\n          key={subRef.id}\r\n          subRef={subRef}\r\n          handleShoppingCart={handleShoppingCart}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubscriptMain;\r\n","import React, { useState } from 'react';\r\nimport { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nimport { Button, Form, Header, Label } from 'semantic-ui-react';\r\nimport { useQuery } from '@apollo/client';\r\n\r\nimport {\r\n  ALL_ACTIVE_NET_SUBSCRIPTIONS,\r\n  ALL_ACTIVE_SUBSCRIPTIONS,\r\n  ALL_OPERATORS,\r\n} from '../../../queries/subscription';\r\nimport {\r\n  ErrorMessage,\r\n  FormInput,\r\n  FormRadio,\r\n  Loading,\r\n} from '../../utils/FormHelpers';\r\nimport { OperatorLogo } from '../../utils/OperatorLogo';\r\n\r\nconst validationSchema = new Yup.object().shape({\r\n  id: Yup.string().required('Valitse liittymän nimi'),\r\n  type: Yup.string().required('Valitse puhe tai nettiliittymä'),\r\n  offer: Yup.number().required('Syötä tarjoushinta'),\r\n  offerLength: Yup.number().required('Syötä tarjouksen pituus'),\r\n  oneTimeDiscount: Yup.number(),\r\n  offerValue: Yup.number().min(0).max(5).required('Valitse tarjouksen luokka'),\r\n});\r\n\r\nconst AddOfferForm = ({ handleAddOffer, handleAddNetOffer }) => {\r\n  const [selectedOperator, setSelectedOperator] = useState();\r\n  const allOperators = useQuery(ALL_OPERATORS, {\r\n    context: { scope: 'api://gappi/api/user' },\r\n  });\r\n  const allActiveSubscription = useQuery(ALL_ACTIVE_SUBSCRIPTIONS, {\r\n    context: { scope: 'api://gappi/api/user' },\r\n  });\r\n  const allActiveNetSubscriptions = useQuery(ALL_ACTIVE_NET_SUBSCRIPTIONS, {\r\n    context: {scope: 'api://gappi/api/user'}\r\n  })\r\n\r\n\r\n  if (allOperators.loading || allActiveSubscription.loading || allActiveNetSubscriptions.loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  if (allOperators.error || allActiveNetSubscriptions.error) {\r\n    return <ErrorMessage error={allOperators.error} />;\r\n  }\r\n\r\n  if (!selectedOperator) {\r\n    return (\r\n      <>\r\n        <Header as=\"h2\">Valitse operaattori</Header>\r\n        {allOperators.data.allOperators.map((opRef) => (\r\n          <Button\r\n            style={{ backgroundColor: 'white' }}\r\n            key={opRef.id}\r\n            value={opRef.id}\r\n            onClick={() => setSelectedOperator(opRef.id)}\r\n          >\r\n            <OperatorLogo operator={opRef.name} />\r\n          </Button>\r\n        ))}\r\n      </>\r\n    );\r\n  }\r\n  return (\r\n    <Formik\r\n      initialValues={{\r\n        id: undefined,\r\n        type: 'puhe',\r\n        offer: '',\r\n        offerLength: 12,\r\n        bindingOffer: false,\r\n        oneTimeDiscount: 0,\r\n        offerValue: 3,\r\n      }}\r\n      validationSchema={validationSchema}\r\n      onSubmit={(values) => {\r\n        values.offerLength = parseInt(values.offerLength);\r\n        values.offerValue = parseInt(values.offerValue)\r\n          \r\n        values.type === 'puhe' && handleAddOffer(values);\r\n        values.type === 'netti' && handleAddNetOffer(values);\r\n      }}\r\n    >\r\n      {(props) => (\r\n        <Form onSubmit={props.handleSubmit} id=\"addOfferForm\">\r\n          <Form.Field\r\n            name=\"type\"\r\n            label=\"Valse puhe tai nettiliittymä\"\r\n            control=\"select\"\r\n            value={props.values.type}\r\n            onChange={props.handleChange}\r\n            onBlur={props.handleBlur}\r\n          >\r\n            <option value='puhe'>puheliittymä</option>\r\n            <option value='netti'>nettiliittymä</option>            \r\n          </Form.Field>\r\n          <Form.Field\r\n            name=\"id\"\r\n            label=\"Valse liittymä\"\r\n            control=\"select\"\r\n            onChange={props.handleChange}\r\n            onBlur={props.handleBlur}\r\n          >\r\n            <option></option>\r\n            {props.values.type === 'puhe' && allActiveSubscription.data.allActiveSubscriptions\r\n              .filter(\r\n                (subRef) =>\r\n                  selectedOperator === subRef.operator.id &&\r\n                  subRef.hasOffer !== true\r\n              )\r\n              .map((subRef) => (\r\n                <option key={subRef.id} value={subRef.id}>\r\n                  {subRef.name}\r\n                </option>\r\n              ))}\r\n               {props.values.type === 'netti' && allActiveNetSubscriptions.data.allActiveNetSubscriptions\r\n              .filter(\r\n                (subRef) =>\r\n                  selectedOperator === subRef.operator.id &&\r\n                  subRef.hasOffer !== true\r\n              )\r\n              .map((subRef) => (\r\n                <option key={subRef.id} value={subRef.id}>\r\n                  {subRef.name}\r\n                </option>\r\n              ))}\r\n          </Form.Field>\r\n          {props.touched.id && props.errors.id ? (\r\n            <Label pointing color=\"yellow\">\r\n              {props.errors.id}\r\n            </Label>\r\n          ) : null}\r\n\r\n          <FormInput\r\n            label=\"Tarjoushinta\"\r\n            disabled={props.values.id ? false : true}\r\n            name=\"offer\"\r\n            type=\"text\"\r\n            onChange={props.handleChange}\r\n            onBlur={props.handleBlur}\r\n            error={props.errors.offer}\r\n            touched={props.touched.offer}\r\n          />\r\n          <Form.Group>\r\n            <Form.Field\r\n              disabled={props.values.id ? false : true}\r\n              name=\"offerLength\"\r\n              label=\"Tarjouksen kesto (kk)\"\r\n              control=\"select\"\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n            >\r\n              <option value=\"12\">12</option>\r\n              <option value=\"24\">24</option>\r\n            </Form.Field>\r\n            <FormRadio\r\n              disabled={props.values.id ? false : true}\r\n              id=\"bindingOffer\"\r\n              name=\"bindingOffer\"\r\n              label=\"Määräaika\"\r\n              checked={props.values.bindingOffer === true}\r\n              onChange={props.handleChange}\r\n            />\r\n          </Form.Group>\r\n          <FormInput\r\n            label=\"Alennus\"\r\n            disabled={props.values.id ? false : true}\r\n            name=\"oneTimeDiscount\"\r\n            type=\"number\"\r\n            onChange={props.handleChange}\r\n            onBlur={props.handleBlur}\r\n            error={props.errors.oneTimeDiscount}\r\n            touched={props.touched.oneTimeDiscount}\r\n          />\r\n\r\n          <Form.Field\r\n            disabled={props.values.id ? false : true}\r\n            name=\"offerValue\"\r\n            label=\"Tarjouksen arvo\"\r\n            control=\"select\"\r\n            onChange={props.handleChange}\r\n            onBlur={props.handleBlur}\r\n          >\r\n            <option value=\"1\">1</option>\r\n            <option value=\"2\">2</option>\r\n            <option value=\"3\">3</option>\r\n            <option value=\"4\">4</option>\r\n            <option value=\"5\">5</option>\r\n          </Form.Field>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nexport default AddOfferForm;\r\n","import React, { useState } from 'react';\r\nimport { useMutation } from '@apollo/client';\r\n\r\nimport { Button, Modal } from 'semantic-ui-react';\r\n\r\nimport { ADD_OFFER, ADD_NET_OFFER } from '../../../queries/subscription';\r\nimport AddOfferForm from './AddOfferForm';\r\n\r\nconst AddOfferModal = () => {\r\n  const [open, setOpen] = useState(false);\r\n  const [addOffer] = useMutation(ADD_OFFER, {\r\n    context: { scope: 'api://gappi/api/storeadmin' },\r\n  });\r\n\r\n  const [addNetOffer] = useMutation(ADD_NET_OFFER, {\r\n    context: { scope: 'api://gappi/api/storeadmin' },\r\n  });\r\n  \r\n\r\n  const handleAddOffer = async (values) => {\r\n    try {\r\n      const result = await addOffer({\r\n        variables: { ...values },\r\n        update: (cache, { data }) => {\r\n          cache.modify({\r\n            fields: {\r\n              allSubscriptionsWithOffer: (existingFieldData) => {\r\n                const newFieldData = [...existingFieldData, data.addOffer];\r\n                return newFieldData;\r\n              },\r\n            },\r\n          });\r\n        },\r\n      });\r\n\r\n      setOpen(false);\r\n      return result;\r\n    } catch (error) {\r\n      window.alert(error);\r\n      setOpen(false);\r\n    }\r\n  };\r\n\r\n  const handleAddNetOffer = async (values) => {\r\n    try {\r\n      const result = await addNetOffer({\r\n        variables: { ...values },\r\n        update: (cache, { data }) => {\r\n          cache.modify({\r\n            fields: {\r\n              allNetSubscriptionsWithOffer: (existingFieldData) => {\r\n                const newFieldData = [...existingFieldData, data.addNetOffer];\r\n                return newFieldData;\r\n              },\r\n            },\r\n          });\r\n        },\r\n      });\r\n\r\n      setOpen(false);\r\n      return result;\r\n    } catch (error) {\r\n      window.alert(error);\r\n      setOpen(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      onClose={() => setOpen(false)}\r\n      onOpen={() => setOpen(true)}\r\n      open={open}\r\n      trigger={<Button positive >Lisää tarjous</Button>}\r\n    >\r\n      <Modal.Header>Lisää tarjous</Modal.Header>\r\n      <Modal.Content>\r\n        <AddOfferForm handleAddOffer={handleAddOffer} handleAddNetOffer={handleAddNetOffer}/>\r\n      </Modal.Content>\r\n      <Modal.Actions>\r\n        <Button\r\n          content=\"Peruuta\"\r\n          icon=\"x\"\r\n          labelPosition=\"right\"\r\n          color=\"black\"\r\n          onClick={() => setOpen(false)}\r\n        />\r\n\r\n        <Button\r\n          type=\"submit\"\r\n          form=\"addOfferForm\"\r\n          content=\"Tallenna\"\r\n          labelPosition=\"right\"\r\n          icon=\"checkmark\"\r\n          positive\r\n        />\r\n      </Modal.Actions>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default AddOfferModal;\r\n","import React from 'react';\r\nimport { useMutation } from '@apollo/client';\r\n\r\nimport { Button, Icon, Table } from 'semantic-ui-react';\r\n\r\nimport { OperatorLogo } from '../../utils/OperatorLogo';\r\nimport { REMOVE_OFFER, REMOVE_NET_OFFER } from '../../../queries/subscription';\r\nimport { XorVIcon } from '../../utils/FormHelpers';\r\n\r\nconst OfferDisplayTable = ({ operator, subscriptions }) => {\r\n  const [removeOffer] = useMutation(REMOVE_OFFER, {\r\n    context: { scope: 'api://gappi/api/storeadmin' },\r\n  });\r\n  const [removeNetOffer] = useMutation(REMOVE_NET_OFFER, {\r\n    context: { scope: 'api://gappi/api/storeadmin' },\r\n  });\r\n\r\n\r\n  const headers = ['Nimi', 'Tarjoushinta', 'Alennus', 'Pituus(kk)', 'Määräaika', 'Luokka', 'Poista'];\r\n\r\n  const handleDelete = async (_, { id }) => {\r\n    if (!window.confirm('Haluatko varmasti poistaa tarjouksen?')) {\r\n      return null;\r\n    }\r\n    try {\r\n      return await removeOffer({\r\n        variables: { id: id },\r\n        update: (cache, { data }) => {\r\n          const cacheId = cache.identify(data.removeOffer);          \r\n          cache.modify({\r\n            fields: {\r\n              allSubscriptionsWithOffer: (existingFieldData) => {              \r\n                const newFieldData = existingFieldData.filter(\r\n                  (subRef) => cacheId !== (subRef.__ref || `${subRef.__typename}:${subRef.id}`)\r\n                );\r\n                return newFieldData;\r\n              },\r\n            },\r\n          });\r\n        },\r\n      });\r\n    } catch (error) {\r\n      window.alert(error);\r\n    }\r\n  };\r\n\r\n \r\n  const handleNetDelete = async (_, { id }) => {\r\n    if (!window.confirm('Haluatko varmasti poistaa tarjouksen?')) {\r\n      return null;\r\n    }\r\n    try {      \r\n      return await removeNetOffer({\r\n        variables: { id: id },\r\n        update: (cache, { data }) => {   \r\n              console.log(data);\r\n          const cacheId = cache.identify(data.removeNetOffer);\r\n             \r\n          cache.modify({\r\n            fields: {\r\n              allNetSubscriptionsWithOffer: (existingFieldData) => {                         \r\n                const newFieldData = existingFieldData.filter(                  \r\n                  (subRef) => cacheId !== (subRef.__ref || `${subRef.__typename}:${subRef.id}`)                  \r\n                );              \r\n                return newFieldData;\r\n              },\r\n            },\r\n          });\r\n        },\r\n      });\r\n    } catch (error) {     \r\n      window.alert(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"offerContainer\">\r\n      <OperatorLogo operator={operator} />\r\n      <Table celled selectable>\r\n        <Table.Header>\r\n          <Table.Row>\r\n            {headers.map((headerRef) => (\r\n              <Table.HeaderCell key={headerRef}>{headerRef}</Table.HeaderCell>\r\n            ))}\r\n          </Table.Row>\r\n        </Table.Header>\r\n        <Table.Body>\r\n          {subscriptions\r\n            .filter((subRef) => subRef.operator.name === operator)\r\n            .map((subRef) => (\r\n              <Table.Row key={subRef.id}>\r\n                <Table.Cell>{subRef.name}</Table.Cell>\r\n                <Table.Cell>{subRef.offer}</Table.Cell>\r\n                <Table.Cell>{subRef.oneTimeDiscount}</Table.Cell>\r\n                <Table.Cell>{subRef.offerLength}</Table.Cell>\r\n                <Table.Cell><XorVIcon value={subRef.bindingOffer} /></Table.Cell>                \r\n                <Table.Cell>{subRef.offerValue}</Table.Cell>\r\n\r\n                <Table.Cell>\r\n                  <Button\r\n                    id={subRef.id}\r\n                    name={subRef.name}\r\n                    color=\"red\"\r\n                    onClick={subRef.type ? handleNetDelete :  handleDelete}\r\n                  >                                      \r\n                    <Icon name=\"delete\" />\r\n                  </Button>\r\n                </Table.Cell>\r\n              </Table.Row>\r\n            ))}\r\n        </Table.Body>\r\n      </Table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OfferDisplayTable;\r\n","import React from 'react';\r\nimport { useQuery } from '@apollo/client';\r\n\r\nimport { Header } from 'semantic-ui-react';\r\n\r\nimport { ALL_SUBSCRIPTIONS_WITH_OFFER, ALL_NET_SUBSCRIPTIONS_WITH_OFFER } from '../../../queries/subscription';\r\nimport { ErrorMessage, Loading } from '../../utils/FormHelpers';\r\nimport AddOfferModal from './AddOfferModal';\r\n\r\nimport OfferDisplayTable from './OfferDisplayTable';\r\n\r\nconst OfferView = () => {\r\n  const { data: subData, error: subError, loading: subLoading } = useQuery(ALL_SUBSCRIPTIONS_WITH_OFFER, {\r\n    context: { scope: 'api://gappi/api/user' },\r\n  });\r\n  const { data: netData, error: netError, loading: netLoading } = useQuery(ALL_NET_SUBSCRIPTIONS_WITH_OFFER, {\r\n    context: { scope: 'api://gappi/api/user' },\r\n  });\r\n\r\n\r\n  if (subLoading || netLoading) {\r\n    return <Loading />;\r\n  }\r\n  if (subError || netError) {\r\n    return <ErrorMessage error={subError || netError} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"tableContainer\">\r\n      <Header as=\"h2\">Tarjoukset</Header>\r\n      <AddOfferModal />\r\n      <div className='flexRow flexTop'>\r\n        <OfferDisplayTable\r\n          operator=\"Dna\"\r\n          subscriptions={subData.allSubscriptionsWithOffer}\r\n        />\r\n        <OfferDisplayTable\r\n          operator=\"Dna\"\r\n          subscriptions={netData.allNetSubscriptionsWithOffer}\r\n        />\r\n      </div>\r\n\r\n      <div className='flexRow flexTop'>\r\n        <OfferDisplayTable\r\n          operator=\"Elisa\"\r\n          subscriptions={subData.allSubscriptionsWithOffer}\r\n        />\r\n               <OfferDisplayTable\r\n          operator=\"Elisa\"\r\n          subscriptions={netData.allNetSubscriptionsWithOffer}\r\n        />\r\n      </div>\r\n\r\n      <div className='flexRow flexTop'>\r\n        <OfferDisplayTable\r\n          operator=\"Telia\"\r\n          subscriptions={subData.allSubscriptionsWithOffer}\r\n        />\r\n               <OfferDisplayTable\r\n          operator=\"Telia\"\r\n          subscriptions={netData.allNetSubscriptionsWithOffer}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OfferView;\r\n","import { gql } from '@apollo/client';\r\nimport { SA_INFO } from './fragments';\r\n\r\nexport const ALL_SERVICE_AGREEMENTS = gql`\r\n  query {\r\n    allServiceAgreements {\r\n      ...ServiceAgreementInfo\r\n    }\r\n  }\r\n  ${SA_INFO}\r\n`;\r\n\r\nexport const ADD_SERVICE_AGREEMENT = gql`\r\n  mutation addServiceAgreement(\r\n    $type: String!\r\n    $name: String!\r\n    $antiVirus: String!\r\n    $antiVirusAmount: Int!\r\n    $VPN: Boolean!\r\n    $VPNAmount: Int!\r\n    $cloud: String!\r\n    $cloudLimit: String!\r\n    $office365: Boolean!\r\n    $support: Boolean!\r\n    $remoteFix: Boolean!\r\n    $length: Int!\r\n    $price: String!\r\n  ) {\r\n    addServiceAgreement(\r\n      type: $type\r\n      name: $name\r\n      antiVirus: $antiVirus\r\n      antiVirusAmount: $antiVirusAmount\r\n      VPN: $VPN\r\n      VPNAmount: $VPNAmount\r\n      cloud: $cloud\r\n      cloudLimit: $cloudLimit\r\n      office365: $office365\r\n      support: $support\r\n      remoteFix: $remoteFix\r\n      length: $length\r\n      price: $price\r\n    ) {\r\n      ...ServiceAgreementInfo\r\n    }\r\n  }\r\n  ${SA_INFO}\r\n`;\r\n\r\nexport const EDIT_SERVICE_AGREEMENT = gql`\r\n  mutation modifyServiceAgreement(\r\n    $id: ID!\r\n    $type: String\r\n    $name: String\r\n    $antiVirus: String\r\n    $antiVirusAmount: Int\r\n    $VPN: Boolean\r\n    $VPNAmount: Int\r\n    $cloud: String\r\n    $cloudLimit: String\r\n    $office365: Boolean\r\n    $support: Boolean\r\n    $remoteFix: Boolean\r\n    $length: Int!\r\n    $price: String!\r\n  ) {\r\n    modifyServiceAgreement(\r\n      id: $id\r\n      type: $type\r\n      name: $name\r\n      antiVirus: $antiVirus\r\n      antiVirusAmount: $antiVirusAmount\r\n      VPN: $VPN\r\n      VPNAmount: $VPNAmount\r\n      cloud: $cloud\r\n      cloudLimit: $cloudLimit\r\n      office365: $office365\r\n      support: $support\r\n      remoteFix: $remoteFix\r\n      length: $length\r\n      price: $price\r\n    ) {\r\n      ...ServiceAgreementInfo\r\n    }\r\n  }\r\n  ${SA_INFO}\r\n`;\r\n\r\nexport const DELETE_SERVICE_AGREEMENT = gql`\r\n  mutation deleteServiceAgreement($id: ID!) {\r\n    deleteServiceAgreement(id: $id) {\r\n      name\r\n      id\r\n    }\r\n  }\r\n`;\r\n","import { Formik } from 'formik';\r\nimport React from 'react';\r\nimport * as Yup from 'yup';\r\n\r\nimport { Form, Header } from 'semantic-ui-react';\r\n\r\nimport { FormInput, FormRadio } from '../../utils/FormHelpers';\r\n\r\nconst validationSchema = new Yup.object().shape({\r\n  type: Yup.string().required('Tyyppi puuttuu'),\r\n  name: Yup.string().required('Nimi puuttuu'),\r\n  antiVirus: Yup.string().required('Antivirus ohjelmisto puuttuu'),\r\n  antiVirusAmount: Yup.number().required(\r\n    'Antivirus ohjelmiston lisenssimäärä puuttuu'\r\n  ),\r\n  VPN: Yup.boolean().required('VPN tieto puuttuu'),\r\n  VPNAmount: Yup.number().required('VPN lisenssimäärä puuttuu'),\r\n  cloud: Yup.string().required('Pilvipalvelu puuttuu'),\r\n  cloudLimit: Yup.string().required('Pilvipalvelun määrä puuttuu'),\r\n  office365: Yup.boolean().required('Office 365 tieto puuttuu'),\r\n  support: Yup.boolean().required('Tukipalvelutieto puuttuu'),\r\n  remoteFix: Yup.boolean().required('Remote-fix tieto puuttuu'),\r\n  length: Yup.number().required('Sopimuksen pituus puuttuu'),\r\n  price: Yup.number().required('Hinta puuttuu'),\r\n});\r\n\r\nconst EditSAForm = ({handleUpdateSA, SARef}) => {\r\n  return (\r\n    <Formik\r\n      initialValues={{\r\n        type: SARef.type,\r\n        name: SARef.name,\r\n        antiVirus: SARef.antiVirus,\r\n        antiVirusAmount: SARef.antiVirusAmount,\r\n        VPN: SARef.VPN,\r\n        VPNAmount: SARef.VPNAmount,\r\n        cloud: SARef.cloud,\r\n        cloudLimit: SARef.cloudLimit,\r\n        office365: SARef.office365,\r\n        support: SARef.support,\r\n        remoteFix: SARef.remoteFix,\r\n        length: SARef.length,\r\n        price: SARef.price,\r\n      }}\r\n      validationSchema={validationSchema}\r\n      onSubmit={async (values) => {      \r\n        await handleUpdateSA({...values, id: SARef.id})\r\n      }}\r\n    >\r\n      {(props) => (\r\n        <Form onSubmit={props.handleSubmit} id=\"editSAForm\">\r\n          <Header as=\"h2\">Huolenpitopalvelu</Header>\r\n          <Form.Group>\r\n            <FormInput\r\n              label=\"Tuotekoodi\"\r\n              name=\"type\"\r\n              type=\"text\"\r\n              value={props.values.type}\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              error={props.errors.type}\r\n              touched={props.touched.type}\r\n            />\r\n            <FormInput\r\n              label=\"Nimi\"\r\n              name=\"name\"\r\n              type=\"text\"\r\n              value={props.values.name}\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              error={props.errors.name}\r\n              touched={props.touched.name}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <FormInput\r\n              label=\"Tietoturva\"\r\n              name=\"antiVirus\"\r\n              type=\"text\"\r\n              value={props.values.antiVirus}\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              error={props.errors.antiVirus}\r\n              touched={props.touched.antiVirus}\r\n            />\r\n            <FormInput\r\n              label=\"Tietoturva lisenssit\"\r\n              name=\"antiVirusAmount\"\r\n              type=\"number\"\r\n              value={props.values.antiVirusAmount}\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              error={props.errors.antiVirusAmount}\r\n              touched={props.touched.antiVirusAmount}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <FormRadio\r\n              id=\"VPN\"\r\n              name=\"VPN\"\r\n              label=\"VPN\"\r\n              checked={props.values.VPN === true}\r\n              onChange={props.handleChange}\r\n            />\r\n\r\n            <FormInput\r\n              label=\"VPN lisenssit\"\r\n              name=\"VPNAmount\"\r\n              type=\"number\"\r\n              value={props.values.VPNAmount}\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              error={props.errors.VPNAmount}\r\n              touched={props.touched.VPNAmount}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <FormInput\r\n              label=\"Pilvipalvelu\"\r\n              name=\"cloud\"\r\n              type=\"text\"\r\n              value={props.values.cloud}\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              error={props.errors.cloud}\r\n              touched={props.touched.cloud}\r\n            />\r\n            <FormInput\r\n              label=\"Pilvipalvelu rajoitus\"\r\n              name=\"cloudLimit\"\r\n              type=\"text\"\r\n              value={props.values.cloudLimit}\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              error={props.errors.cloudLimit}\r\n              touched={props.touched.cloudLimit}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <FormRadio\r\n              id=\"office365\"\r\n              name=\"office365\"\r\n              label=\"Office 365\"\r\n              checked={props.values.office365 === true}\r\n              onChange={props.handleChange}\r\n            />\r\n            <FormRadio\r\n              id=\"support\"\r\n              name=\"support\"\r\n              label=\"Support\"\r\n              checked={props.values.support === true}\r\n              onChange={props.handleChange}\r\n            />\r\n                  <FormRadio\r\n              id=\"remoteFix\"\r\n              name=\"remoteFix\"\r\n              label=\"Remote Fix\"\r\n              checked={props.values.remoteFix === true}\r\n              onChange={props.handleChange}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n          <FormInput\r\n              label=\"Pituus\"\r\n              name=\"length\"\r\n              type=\"number\"   \r\n              value={props.values.length}           \r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              error={props.errors.length}\r\n              touched={props.touched.length}\r\n            />\r\n             <FormInput\r\n              label=\"Hinta\"\r\n              name=\"price\"\r\n              type=\"number\"       \r\n              value={props.values.price}       \r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              error={props.errors.price}\r\n              touched={props.touched.price}\r\n            />\r\n          </Form.Group>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  )\r\n}\r\n\r\nexport default EditSAForm\r\n","import { useMutation } from '@apollo/client';\r\nimport React, { useState } from 'react'\r\nimport { Button, Icon, Modal } from 'semantic-ui-react';\r\nimport { EDIT_SERVICE_AGREEMENT } from '../../../queries/serviceAgreement';\r\nimport EditSAForm from './EditSAForm';\r\n\r\nconst EditSAModal = (props) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [editServiceAgreement] = useMutation(EDIT_SERVICE_AGREEMENT, {\r\n    context: { scope: 'api://gappi/api/admin' },\r\n  });\r\n\r\n  const handleUpdateSA = async ({\r\n    id,\r\n    type,\r\n    name,\r\n    antiVirus,\r\n    antiVirusAmount,\r\n    VPN,\r\n    VPNAmount,\r\n    cloud,\r\n    cloudLimit,\r\n    office365,\r\n    support,\r\n    remoteFix,\r\n    length,\r\n    price,\r\n  }) => {\r\n    try {\r\n      await editServiceAgreement({\r\n        variables: {\r\n          id,\r\n          type,\r\n          name,\r\n          antiVirus,\r\n          antiVirusAmount,\r\n          VPN,\r\n          VPNAmount,\r\n          cloud,\r\n          cloudLimit,\r\n          office365,\r\n          support,\r\n          remoteFix,\r\n          length,\r\n          price: price.toString(),\r\n        },\r\n      });\r\n      setOpen(false);\r\n    } catch (error) {\r\n      window.alert(error.message);\r\n      setOpen(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n    onClose={() => setOpen(false)}\r\n    onOpen={() => setOpen(true)}\r\n    open={open}\r\n    trigger={\r\n      <Button id={props.SARef.id} onClick={props.handleClick}>\r\n        <Icon name=\"configure\" />\r\n      </Button>\r\n    }\r\n  >\r\n    <Modal.Header>Muokkaa</Modal.Header>\r\n    <Modal.Content>\r\n      <EditSAForm handleUpdateSA={handleUpdateSA} SARef={props.SARef}/>\r\n  \r\n    </Modal.Content>\r\n    <Modal.Actions>\r\n      <Button\r\n        type=\"submit\"\r\n        form=\"editSAForm\"\r\n        content=\"Tallenna\"\r\n        icon=\"checkmark\"\r\n        positive\r\n      />\r\n      <Button\r\n        content=\"Peruuta\"\r\n        icon=\"delete\"\r\n        onClick={() => setOpen(false)}\r\n      />\r\n    </Modal.Actions>\r\n  </Modal>\r\n  )\r\n}\r\n\r\nexport default EditSAModal\r\n","import React from 'react';\r\nimport { Button, Header, Icon, Table } from 'semantic-ui-react';\r\nimport { XorVIcon } from '../../utils/FormHelpers';\r\nimport EditSAModal from './EditSAModal';\r\n\r\nconst SATable = ({ allServiceAgreements, handleDelete }) => {\r\n  if (!allServiceAgreements) {\r\n    return <div>Ei huolenpitopalveluita lisätty</div>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Table celled selectable>\r\n        <Table.Header>\r\n          <Table.Row>\r\n            <Table.Cell>\r\n              <Header as=\"h2\">Huolenpito</Header>\r\n            </Table.Cell>\r\n          </Table.Row>\r\n          <Table.Row>\r\n            <Table.HeaderCell>Tyyppi</Table.HeaderCell>\r\n            <Table.HeaderCell>Nimi</Table.HeaderCell>\r\n            <Table.HeaderCell>Antivirus</Table.HeaderCell>\r\n            <Table.HeaderCell>Antivirus lisenssit</Table.HeaderCell>\r\n            <Table.HeaderCell>VPN</Table.HeaderCell>\r\n            <Table.HeaderCell>VPN lisenssit</Table.HeaderCell>\r\n            <Table.HeaderCell>Pilvipalvelu</Table.HeaderCell>\r\n            <Table.HeaderCell>Pilvipalvelu rajoitus</Table.HeaderCell>\r\n            <Table.HeaderCell>Office 365</Table.HeaderCell>\r\n            <Table.HeaderCell>Puhelintuki</Table.HeaderCell>\r\n            <Table.HeaderCell>Remote Fix</Table.HeaderCell>\r\n            <Table.HeaderCell>Pituus</Table.HeaderCell>\r\n            <Table.HeaderCell>Hinta</Table.HeaderCell>\r\n            <Table.HeaderCell>Muokkaa</Table.HeaderCell>\r\n          </Table.Row>\r\n        </Table.Header>\r\n        <Table.Body>\r\n          {allServiceAgreements.map((SARef) => (\r\n            <Table.Row key={SARef.id}>\r\n              <Table.Cell>{SARef.type}</Table.Cell>\r\n              <Table.Cell>{SARef.name}</Table.Cell>\r\n              <Table.Cell>{SARef.antiVirus}</Table.Cell>\r\n              <Table.Cell>{SARef.antiVirusAmount}</Table.Cell>\r\n              <Table.Cell>\r\n                <XorVIcon value={SARef.VPN} />\r\n              </Table.Cell>\r\n              <Table.Cell>{SARef.VPNAmount}</Table.Cell>\r\n              <Table.Cell>{SARef.cloud}</Table.Cell>\r\n              <Table.Cell>{SARef.cloudLimit}</Table.Cell>\r\n              <Table.Cell>\r\n                <XorVIcon value={SARef.office365} />\r\n              </Table.Cell>\r\n              <Table.Cell>\r\n                <XorVIcon value={SARef.support} />\r\n              </Table.Cell>\r\n              <Table.Cell>\r\n                <XorVIcon value={SARef.remoteFix} />\r\n              </Table.Cell>\r\n              <Table.Cell>{SARef.length}</Table.Cell>\r\n              <Table.Cell>{SARef.price}</Table.Cell>\r\n              <Table.Cell>\r\n                {<EditSAModal SARef={SARef} />}\r\n                <Button\r\n                  id={SARef.id}\r\n                  name={SARef.name}\r\n                  color=\"red\"\r\n                  onClick={handleDelete}\r\n                >\r\n                  <Icon name=\"delete\" />\r\n                </Button>\r\n              </Table.Cell>\r\n            </Table.Row>\r\n          ))}\r\n        </Table.Body>\r\n      </Table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SATable;\r\n","import React from 'react';\r\nimport { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { Form, Header, Label } from 'semantic-ui-react';\r\nimport { FormInput, FormRadio } from '../../utils/FormHelpers';\r\n\r\nconst validationSchema = new Yup.object().shape({\r\n  type: Yup.string().required('Tyyppi puuttuu'),\r\n  name: Yup.string().required('Nimi puuttuu'),\r\n  antiVirus: Yup.string().required('Antivirus ohjelmisto puuttuu'),\r\n  antiVirusAmount: Yup.number().required(\r\n    'Antivirus ohjelmiston lisenssimäärä puuttuu'\r\n  ),\r\n  VPN: Yup.boolean().required('VPN tieto puuttuu'),\r\n  VPNAmount: Yup.number().required('VPN lisenssimäärä puuttuu'),\r\n  cloud: Yup.string().required('Pilvipalvelu puuttuu'),\r\n  cloudLimit: Yup.string().required('Pilvipalvelun määrä puuttuu'),\r\n  office365: Yup.boolean().required('Office 365 tieto puuttuu'),\r\n  support: Yup.boolean().required('Tukipalvelutieto puuttuu'),\r\n  remoteFix: Yup.boolean().required('Remote-fix tieto puuttuu'),\r\n  length: Yup.number().required('Sopimuksen pituus puuttuu'),\r\n  price: Yup.number().required('Hinta puuttuu'),\r\n});\r\n\r\nconst AddSAForm = ({ handleAddServiceAgreement }) => {\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={{\r\n        type: '',\r\n        name: '',\r\n        antiVirus: 'McAfee Livesafe',\r\n        antiVirusAmount: 50,\r\n        VPN: true,\r\n        VPNAmount: 5,\r\n        cloud: 'Jotta cloud',\r\n        cloudLimit: 'Rajaton',\r\n        office365: false,\r\n        support: true,\r\n        remoteFix: true,\r\n        length: undefined,\r\n        price: undefined,\r\n      }}\r\n      validationSchema={validationSchema}\r\n      onSubmit={async (values) => {\r\n        console.log(values);\r\n        await handleAddServiceAgreement(values)\r\n      }}\r\n    >\r\n      {(props) => (\r\n        <Form onSubmit={props.handleSubmit} id=\"addSAForm\">\r\n          <Header as=\"h2\">Huolenpitopalvelu</Header>\r\n          <Form.Group>\r\n            <FormInput\r\n              label=\"Tuotekoodi\"\r\n              name=\"type\"\r\n              type=\"text\"\r\n              placeholder=\"tuotekoodi\"\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              error={props.errors.type}\r\n              touched={props.touched.type}\r\n            />\r\n            <FormInput\r\n              label=\"Nimi\"\r\n              name=\"name\"\r\n              type=\"text\"\r\n              placeholder=\"nimi\"\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              error={props.errors.name}\r\n              touched={props.touched.name}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <FormInput\r\n              label=\"Tietoturva\"\r\n              name=\"antiVirus\"\r\n              type=\"text\"\r\n              placeholder={props.values.antiVirus}\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              error={props.errors.antiVirus}\r\n              touched={props.touched.antiVirus}\r\n            />\r\n            <FormInput\r\n              label=\"Tietoturva lisenssit\"\r\n              name=\"antiVirusAmount\"\r\n              type=\"number\"\r\n              placeholder={props.values.antiVirusAmount}\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              error={props.errors.antiVirusAmount}\r\n              touched={props.touched.antiVirusAmount}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <FormRadio\r\n              id=\"VPN\"\r\n              name=\"VPN\"\r\n              label=\"VPN\"\r\n              checked={props.values.VPN === true}\r\n              onChange={props.handleChange}\r\n            />\r\n\r\n            <FormInput\r\n              label=\"VPN lisenssit\"\r\n              name=\"VPNAmount\"\r\n              type=\"number\"\r\n              placeholder={props.values.VPNAmount}\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              error={props.errors.VPNAmount}\r\n              touched={props.touched.VPNAmount}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <FormInput\r\n              label=\"Pilvipalvelu\"\r\n              name=\"cloud\"\r\n              type=\"text\"\r\n              placeholder={props.values.cloud}\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              error={props.errors.cloud}\r\n              touched={props.touched.cloud}\r\n            />\r\n            <FormInput\r\n              label=\"Pilvipalvelu rajoitus\"\r\n              name=\"cloudLimit\"\r\n              type=\"text\"\r\n              placeholder={props.values.cloudLimit}\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              error={props.errors.cloudLimit}\r\n              touched={props.touched.cloudLimit}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <FormRadio\r\n              id=\"office365\"\r\n              name=\"office365\"\r\n              label=\"Office 365\"\r\n              checked={props.values.office365 === true}\r\n              onChange={props.handleChange}\r\n            />\r\n            <FormRadio\r\n              id=\"support\"\r\n              name=\"support\"\r\n              label=\"Support\"\r\n              checked={props.values.support === true}\r\n              onChange={props.handleChange}\r\n            />\r\n                  <FormRadio\r\n              id=\"remoteFix\"\r\n              name=\"remoteFix\"\r\n              label=\"Remote Fix\"\r\n              checked={props.values.remoteFix === true}\r\n              onChange={props.handleChange}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n          <FormInput\r\n              label=\"Pituus\"\r\n              name=\"length\"\r\n              type=\"number\"              \r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              error={props.errors.length}\r\n              touched={props.touched.length}\r\n            />\r\n             <FormInput\r\n              label=\"Hinta\"\r\n              name=\"price\"\r\n              type=\"number\"              \r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              error={props.errors.price}\r\n              touched={props.touched.price}\r\n            />\r\n          </Form.Group>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nexport default AddSAForm;\r\n","import { useMutation } from '@apollo/client';\r\nimport React, { useState } from 'react';\r\n\r\nimport { Modal, Button, Icon } from 'semantic-ui-react';\r\nimport { ADD_SERVICE_AGREEMENT } from '../../../queries/serviceAgreement';\r\nimport AddSAForm from './AddSAForm';\r\n\r\n\r\nconst AddSAModal = () => {\r\n  const [open, setOpen] = useState(false); \r\n  const [addServiceAgreement] = useMutation(ADD_SERVICE_AGREEMENT, {\r\n    context: { scope: 'api://gappi/api/admin' },\r\n  });\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleAddServiceAgreement = async ({\r\n    type,\r\n    name,\r\n    antiVirus,\r\n    antiVirusAmount,\r\n    VPN,\r\n    VPNAmount,\r\n    cloud,\r\n    cloudLimit,\r\n    office365,\r\n    support,\r\n    remoteFix,\r\n    length,\r\n    price\r\n  }) => {\r\n    try {\r\n      await addServiceAgreement({\r\n        variables: {\r\n          type,\r\n          name,\r\n          antiVirus,\r\n          antiVirusAmount,\r\n          VPN,\r\n          VPNAmount,\r\n          cloud,\r\n          cloudLimit,\r\n          office365,\r\n          support,\r\n          remoteFix,\r\n          length,\r\n          price: price.toString()\r\n        },\r\n        update: (cache, { data }) => {\r\n          cache.modify({\r\n            fields: {\r\n              allServiceAgreements: (existingFieldData) => {\r\n                const newFieldData = [\r\n                  ...existingFieldData,\r\n                  data.addServiceAgreement,\r\n                ];\r\n                return newFieldData;\r\n              },\r\n            },\r\n          });\r\n        },\r\n      });\r\n      setOpen(false);\r\n    } catch (error) {\r\n      window.alert(error.message);\r\n      setOpen(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      onClose={() => setOpen(false)}\r\n      onOpen={() => setOpen(true)}\r\n      open={open}\r\n      trigger={<Button icon labelPosition='right'><Icon name='file' />Lisää huolenpitosopimus</Button>}\r\n    >\r\n      <Modal.Header>Lisää huolenpitosopimus</Modal.Header>\r\n      <Modal.Content>\r\n        <AddSAForm\r\n          closeModal={handleClose}    \r\n          handleAddServiceAgreement={handleAddServiceAgreement}\r\n        />\r\n      </Modal.Content>\r\n      <Modal.Actions>\r\n        <Button color=\"black\" onClick={() => setOpen(false)}>\r\n          Peruuta\r\n        </Button>   \r\n        <Button\r\n          type=\"submit\"\r\n          form=\"addSAForm\"\r\n          content=\"Lisää\"\r\n          labelPosition=\"right\"\r\n          icon=\"checkmark\"\r\n          positive\r\n        />\r\n      </Modal.Actions>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default AddSAModal;\r\n","import React from 'react';\r\nimport { useQuery, useMutation } from '@apollo/client';\r\nimport {\r\n  ALL_SERVICE_AGREEMENTS,\r\n  DELETE_SERVICE_AGREEMENT,\r\n} from '../../../queries/serviceAgreement';\r\nimport { ErrorMessage, Loading } from '../../utils/FormHelpers';\r\nimport { Header, Menu } from 'semantic-ui-react';\r\nimport SATable from './SATable';\r\nimport AddSAModal from './AddSAModal';\r\n\r\nconst SAView = () => {\r\n  const { data, error, loading } = useQuery(ALL_SERVICE_AGREEMENTS, {\r\n    context: { scope: 'api://gappi/api/user' },\r\n  });\r\n  const [deleteServiceAgreement] = useMutation(DELETE_SERVICE_AGREEMENT, {\r\n    context: { scope: 'api://gappi/api/admin' },\r\n  });\r\n\r\n  if (loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <ErrorMessage error={error.message} />;\r\n  }\r\n\r\n  const handleDelete = async (_, {id,name}) => {\r\n    const confirmation = window.confirm(`Poistetaanko huolenpito ${name}`);\r\n    if (!confirmation) {\r\n      return null;\r\n    }\r\n    try {\r\n      await deleteServiceAgreement({\r\n        variables: {id:id},\r\n        update: (cache, { data }) => {\r\n          const cacheId = cache.identify(data.deleteServiceAgreement);          \r\n          cache.modify({\r\n            fields: {\r\n              allServiceAgreements: (existingFieldData) => {\r\n                console.log(existingFieldData);\r\n                const newFieldData = existingFieldData.filter(\r\n                  (subRef) => cacheId !== (subRef.__ref || `${subRef.__typename}:${subRef.id}`)                  \r\n                );\r\n\r\n                return newFieldData;\r\n              },\r\n            },\r\n          });\r\n        }\r\n      })      \r\n    } catch (error) {\r\n      window.alert(error.message);\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div style={{ margin: '2em' }}>\r\n      <Header as=\"h2\">Huolenpitohallinta</Header>\r\n      <div className=\"flexRow flexLeft\">\r\n        <Menu>\r\n          <Menu.Item>\r\n            <AddSAModal />\r\n          </Menu.Item>\r\n        </Menu>\r\n      </div>\r\n\r\n      <SATable\r\n        allServiceAgreements={data.allServiceAgreements}\r\n        handleDelete={handleDelete}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SAView;\r\n","import React from 'react';\r\nimport { useQuery } from '@apollo/client';\r\nimport { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nimport { Form, Button, Header, Label, Radio } from 'semantic-ui-react';\r\n\r\nimport { ALL_OPERATORS } from '../../../../queries/subscription';\r\nimport { OperatorLogo } from '../../../utils/OperatorLogo';\r\n\r\nconst validationSchema = new Yup.object().shape({\r\n  name: Yup.string().min(4, 'Liian lyhyt nimi').required('Nimi puuttuu'),\r\n  type: Yup.string().required('Tekniikka puuttuu'),\r\n  speed: Yup.number().required('Nettinopeus puuttuu'),\r\n  eu: Yup.number().required('Eu data puuttuu'),\r\n  active: Yup.boolean().required('Onko liittymä ahtiivinen vai ei'),\r\n  price: Yup.number().required('Kuukausimaksu puuttuu'),\r\n});\r\n\r\nconst AddNetSubForm = ({\r\n  selectedOperator,\r\n  setSelectedOperator,\r\n  handleAddSubscription,\r\n}) => {\r\n  const operators = useQuery(ALL_OPERATORS, {\r\n    context: { scope: 'api://gappi/api/user' },\r\n  });\r\n\r\n  if (operators.loading) {\r\n    return null;\r\n  }\r\n  if (!selectedOperator) {\r\n    return (\r\n      <>\r\n        <Header as=\"h2\">Valitse operaattori</Header>\r\n        {operators.data.allOperators.map((opRef) => (\r\n          <Button\r\n            style={{ backgroundColor: 'white' }}\r\n            key={opRef.id}\r\n            value={opRef.id}\r\n            onClick={() => setSelectedOperator(opRef.id)}\r\n          >\r\n            <OperatorLogo operator={opRef.name} />\r\n          </Button>\r\n        ))}\r\n      </>\r\n    );\r\n  }\r\n\r\n  const errorMessage = (field) => {\r\n    if (!field) {\r\n      return null;\r\n    }\r\n    return (\r\n      <Label pointing color=\"yellow\">\r\n        {field}\r\n      </Label>\r\n    );\r\n  };\r\n\r\n  const netTypes = ['4G', '5G', 'ADSL', 'VDSL', 'kaapeli', 'valokuitu']\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={{\r\n        name: '',\r\n        type: '',\r\n        speed: undefined,\r\n        eu: undefined,\r\n        active: true,\r\n        price: undefined,\r\n      }}\r\n      validationSchema={validationSchema}\r\n      onSubmit={async (values) => {\r\n        values.price = String(values.price);\r\n        values.speed = String(values.speed);\r\n\r\n        handleAddSubscription({\r\n          operator: selectedOperator,\r\n          name: values.name,\r\n          type: values.type,\r\n          speed: values.speed,\r\n          eu: values.eu,\r\n          active: values.active,\r\n          price: values.price,\r\n        });\r\n      }}\r\n    >\r\n      {(props) => (\r\n        <Form onSubmit={props.handleSubmit} id=\"addNetSubscription\">\r\n          <Header>\r\n            <OperatorLogo\r\n              operator={\r\n                operators.data.allOperators.find(\r\n                  (opRef) => opRef.id === selectedOperator\r\n                ).name\r\n              }\r\n            />\r\n          </Header>\r\n          <Form.Group>\r\n            <div>\r\n              <Form.Input\r\n                type=\"text\"\r\n                onBlur={props.handleBlur}\r\n                onChange={props.handleChange}\r\n                name=\"name\"\r\n                label=\"Liittymän nimi\"\r\n                placeholder=\"Nimi\"\r\n              />\r\n              {props.touched.name && errorMessage(props.errors.name)}\r\n            </div>\r\n            <Form.Group className=\"radioLabelGroup\">\r\n              <Form.Field label=\"Aktiivinen\"></Form.Field>\r\n              <Radio\r\n                id=\"active\"\r\n                type=\"checkbox\"\r\n                toggle\r\n                name=\"active\"\r\n                checked={props.values.active === true}\r\n                onChange={props.handleChange}\r\n              />\r\n            </Form.Group>\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Field><Form.Field\r\n                  label=\"Tekniikka\"\r\n                  name=\"type\"\r\n                  control=\"select\"                  \r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                >\r\n                  <option></option>\r\n                  {netTypes                    \r\n                    .map((typeRef) => (\r\n                      <option key={typeRef} value={typeRef}>\r\n                        {typeRef}\r\n                      </option>\r\n                    ))}\r\n                </Form.Field>              \r\n              {!props.values.type &&\r\n                props.touched.type &&\r\n                errorMessage(props.errors.type)}\r\n            </Form.Field>\r\n\r\n            <Form.Field>\r\n              <Form.Input\r\n                type=\"text\"\r\n                onChange={props.handleChange}\r\n                onBlur={props.handleBlur}\r\n                name=\"speed\"\r\n                label=\"Nettinopeus\"\r\n                placeholder=\"Nettinopeus\"\r\n              />\r\n              {props.touched.speed && errorMessage(props.errors.speed)}\r\n            </Form.Field>\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Field>\r\n              <Form.Input\r\n                type=\"number\"\r\n                onChange={props.handleChange}\r\n                onBlur={props.handleBlur}\r\n                name=\"eu\"\r\n                label=\"Eu data\"\r\n                placeholder=\"Eu data\"\r\n              />\r\n              {props.touched.eu && errorMessage(props.errors.eu)}\r\n            </Form.Field>\r\n            <Form.Field>\r\n              <Form.Input\r\n                type=\"text\"\r\n                onChange={props.handleChange}\r\n                onBlur={props.handleBlur}\r\n                name=\"price\"\r\n                label=\"Kuukausimaksu\"\r\n                placeholder=\"Kuukausimaksu\"\r\n              />\r\n              {props.touched.price && errorMessage(props.errors.price)}\r\n            </Form.Field>\r\n          </Form.Group>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nexport default AddNetSubForm;\r\n","import { useMutation } from '@apollo/client';\r\nimport React, { useState } from 'react';\r\n\r\nimport { Modal, Button, Icon } from 'semantic-ui-react';\r\nimport AddNetSubForm from './AddNetSubForm';\r\n\r\nimport { ADD_NET_SUBSCRIPTION } from '../../../../queries/subscription';\r\n// import AddSubscriptionForm from './AddSubscriptionForm';\r\n\r\nconst AddNetSubModal = () => {\r\n  const [open, setOpen] = useState(false);\r\n  const [selectedOperator, setSelectedOperator] = useState();\r\n  const [addNetSubscription] = useMutation(ADD_NET_SUBSCRIPTION, {\r\n    context: { scope: 'api://gappi/api/admin' },\r\n  });\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleAddSubscription = async ({\r\n    operator,\r\n    name,\r\n    type,\r\n    speed,\r\n    eu,\r\n    active,\r\n    price,\r\n  }) => {\r\n    try {\r\n      await addNetSubscription({\r\n        variables: {\r\n          operator,\r\n          name,\r\n          type,\r\n          speed,\r\n          eu,\r\n          active,\r\n          price,\r\n        },\r\n        update: (cache, { data }) => {\r\n          cache.modify({\r\n            fields: {\r\n              allNetSubscriptions: (existingFieldData) => {\r\n                const newFieldData = [\r\n                  ...existingFieldData,\r\n                  data.addNetSubscription,\r\n                ];\r\n                return newFieldData;\r\n              },\r\n            },\r\n          });\r\n        },\r\n      });\r\n      setOpen(false);\r\n    } catch (error) {\r\n      window.alert(error.message);\r\n      setOpen(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      onClose={() => setOpen(false)}\r\n      onOpen={() => setOpen(true)}\r\n      open={open}\r\n      trigger={\r\n        <Button icon labelPosition=\"right\">\r\n          <Icon name=\"download\" />\r\n          Lisää nettiliittymä\r\n        </Button>\r\n      }\r\n    >\r\n      <Modal.Header>Lisää nettiliittymä</Modal.Header>\r\n      <Modal.Content>\r\n        {\r\n          <AddNetSubForm\r\n            closeModal={handleClose}\r\n            selectedOperator={selectedOperator}\r\n            setSelectedOperator={setSelectedOperator}\r\n            handleAddSubscription={handleAddSubscription}\r\n          />\r\n        }\r\n      </Modal.Content>\r\n      <Modal.Actions>\r\n        <Button color=\"black\" onClick={() => setOpen(false)}>\r\n          Peruuta\r\n        </Button>\r\n        <Button onClick={() => setSelectedOperator()}>\r\n          Vaihda operaattoria\r\n        </Button>\r\n        <Button\r\n          type=\"submit\"\r\n          form=\"addNetSubscription\"\r\n          content=\"Lisää\"\r\n          labelPosition=\"right\"\r\n          icon=\"checkmark\"\r\n          positive\r\n        />\r\n      </Modal.Actions>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default AddNetSubModal;\r\n","import { Formik } from 'formik';\r\nimport React from 'react';\r\nimport * as Yup from 'yup';\r\n\r\nimport { Form } from 'semantic-ui-react';\r\n\r\nimport { FormInput, FormRadio } from '../../../utils/FormHelpers';\r\n\r\nconst validationSchema = new Yup.object().shape({\r\n  name: Yup.string().min(4, 'Liian lyhyt nimi').required('Nimi puuttuu'),\r\n  type: Yup.string().required('Tekniikka puuttuu'),\r\n  speed: Yup.number().required('Nettinopeus puuttuu'),\r\n  eu: Yup.number().required('Eu data puuttuu'),\r\n  active: Yup.boolean().required('Onko liittymä ahtiivinen vai ei'),\r\n  price: Yup.number().required('Kuukausimaksu puuttuu'),\r\n});\r\n\r\nconst EditNetSubForm = ({ subRef, handleEditSub }) => {\r\n  const netTypes = ['4G', '5G', 'ADSL', 'VDSL', 'kaapeli', 'valokuitu'];\r\n\r\n  console.log(subRef);\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={{\r\n        name: subRef.name,\r\n        type: subRef.type,\r\n        speed: subRef.speed,\r\n        eu: subRef.eu,\r\n        active: subRef.active,\r\n        price: subRef.price,\r\n      }}\r\n      validationSchema={validationSchema}\r\n      onSubmit={(values) => {\r\n        handleEditSub({\r\n          id: subRef.id,\r\n          name: values.name,\r\n          type: values.type,\r\n          speed: String(values.speed),\r\n          eu: values.eu,\r\n          active: values.active,\r\n          price: String(values.price),\r\n        });\r\n      }}\r\n    >\r\n      {(props) => (\r\n        <Form onSubmit={props.handleSubmit} id=\"editNetSubscriptionForm\">\r\n          <Form.Group>\r\n            <FormInput\r\n              label=\"Nimi\"\r\n              name=\"name\"\r\n              type=\"text\"\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              value={props.values.name}\r\n              error={props.errors.name}\r\n              touched={props.touched.name}\r\n            />\r\n\r\n            <FormRadio\r\n              label=\"Aktiivinen\"\r\n              id=\"active\"\r\n              name=\"active\"\r\n              checked={props.values.active === true}\r\n              onChange={props.handleChange}\r\n            />\r\n          </Form.Group>\r\n\r\n          <Form.Field>\r\n            <Form.Field\r\n              label=\"Tekniikka\"\r\n              name=\"type\"\r\n              control=\"select\"\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              value={props.values.type}\r\n            >\r\n              <option></option>\r\n              {netTypes.map((typeRef) => (\r\n                <option key={typeRef} value={typeRef}>\r\n                  {typeRef}\r\n                </option>\r\n              ))}\r\n            </Form.Field>\r\n          </Form.Field>\r\n\r\n          <FormInput\r\n            label=\"Nettinopeus\"\r\n            name=\"speed\"\r\n            type=\"number\"\r\n            onChange={props.handleChange}\r\n            onBlur={props.handleBlur}\r\n            value={props.values.speed}\r\n            error={props.errors.speed}\r\n            touched={props.touched.speed}\r\n          />\r\n\r\n          <Form.Group>\r\n            <FormInput\r\n              label=\"Eu data\"\r\n              name=\"eu\"\r\n              type=\"number\"\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              value={props.values.eu}\r\n              error={props.errors.eu}\r\n              touched={props.touched.eu}\r\n            />\r\n            <FormInput\r\n              label=\"Hinta\"\r\n              name=\"price\"\r\n              type=\"number\"\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              value={props.values.price}\r\n              error={props.errors.price}\r\n              touched={props.touched.price}\r\n            />\r\n          </Form.Group>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nexport default EditNetSubForm;\r\n","import { useMutation } from '@apollo/client';\r\nimport React, { useState } from 'react';\r\n\r\nimport { Button, Icon, Modal } from 'semantic-ui-react';\r\n\r\n\r\nimport { EDIT_NET_SUBSCRIPTION } from '../../../../queries/subscription';\r\nimport EditNetSubForm from './EditNetSubForm';\r\n\r\nconst EditNetSubModal = (props) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [editSubscription] = useMutation(EDIT_NET_SUBSCRIPTION, {\r\n    context: { scope: 'api://gappi/api/admin' },\r\n  });\r\n\r\n  const handleUpdateSub = async ({\r\n    id,\r\n    name,\r\n    type,\r\n    speed, \r\n    eu,\r\n    active,\r\n    price\r\n  }\r\n  ) => {\r\n    \r\n    try {\r\n      await editSubscription({\r\n        variables: {\r\n          id,\r\n          name,\r\n          type,\r\n          speed,\r\n          eu,\r\n          active,\r\n          price,\r\n        },\r\n      });\r\n      setOpen(false);\r\n    } catch (error) {\r\n      window.alert(error.message);\r\n      setOpen(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      onClose={() => setOpen(false)}\r\n      onOpen={() => setOpen(true)}\r\n      open={open}\r\n      trigger={\r\n        <Button id={props.subRef.id} onClick={props.handleClick}>\r\n          <Icon name=\"configure\" />\r\n        </Button>\r\n      }\r\n    >\r\n      <Modal.Header>Muokkaa</Modal.Header>\r\n      <Modal.Content>\r\n        <EditNetSubForm subRef={props.subRef} handleEditSub={handleUpdateSub} />\r\n      </Modal.Content>\r\n      <Modal.Actions>\r\n        <Button\r\n          type=\"submit\"\r\n          form=\"editNetSubscriptionForm\"\r\n          content=\"Tallenna\"\r\n          icon=\"checkmark\"\r\n          positive\r\n        />\r\n        <Button\r\n          content=\"Peruuta\"\r\n          icon=\"delete\"\r\n          onClick={() => setOpen(false)}\r\n        />\r\n      </Modal.Actions>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default EditNetSubModal;\r\n\r\n","import React from 'react';\r\nimport { Button, Dropdown, Header, Icon, Table } from 'semantic-ui-react';\r\nimport { XorVIcon } from '../../../utils/FormHelpers';\r\nimport { OperatorLogo } from '../../../utils/OperatorLogo';\r\nimport EditNetSubModal from './EditNetSubModal';\r\n\r\nconst NetSubTable = ({ allNetSubscriptions, opData, setNetFilterOperator, handleNetDelete }) => {  \r\n  return (\r\n    <>\r\n      <Table celled selectable>\r\n        <Table.Header>\r\n          <Table.Row>\r\n            <Table.Cell>\r\n              <Header as=\"h2\">Puheliittymät</Header>\r\n            </Table.Cell>\r\n          </Table.Row>\r\n          <Table.Row>\r\n            <Table.HeaderCell>\r\n              <Dropdown text=\"Operaattori\" multiple icon=\"filter\">\r\n                <Dropdown.Menu>\r\n                  <Dropdown.Item onClick={() => setNetFilterOperator()}>\r\n                    kaikki\r\n                  </Dropdown.Item>\r\n                  <Dropdown.Divider />\r\n                  {opData.allOperators.map((opRef) => (\r\n                    <Dropdown.Item\r\n                      key={opRef.id}\r\n                      onClick={() => setNetFilterOperator(opRef.name)}\r\n                    >\r\n                      {opRef.name}\r\n                    </Dropdown.Item>\r\n                  ))}\r\n                </Dropdown.Menu>\r\n              </Dropdown>\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell>Nimi</Table.HeaderCell>\r\n            <Table.HeaderCell>Tekniikka</Table.HeaderCell>            \r\n            <Table.HeaderCell>Nettinopeus</Table.HeaderCell>            \r\n            <Table.HeaderCell>Eu data</Table.HeaderCell>\r\n            <Table.HeaderCell>Aktiivinen</Table.HeaderCell>            \r\n            <Table.HeaderCell>Hinta</Table.HeaderCell>\r\n            <Table.HeaderCell>Muokkaa</Table.HeaderCell>\r\n          </Table.Row>\r\n        </Table.Header>\r\n        <Table.Body>\r\n          {allNetSubscriptions.map((subRef) => (\r\n            <Table.Row key={subRef.id}>\r\n              <Table.Cell className=\"operatorLogoContainer\">\r\n                <OperatorLogo operator={subRef.operator.name} />{' '}\r\n              </Table.Cell>\r\n              <Table.Cell>{subRef.name}</Table.Cell>\r\n              <Table.Cell>{subRef.type}</Table.Cell>            \r\n              <Table.Cell>{subRef.speed}</Table.Cell>    \r\n              <Table.Cell>{subRef.eu}</Table.Cell>\r\n              <Table.Cell>\r\n                <XorVIcon value={subRef.active} />\r\n              </Table.Cell>             \r\n              <Table.Cell>{subRef.price}</Table.Cell>\r\n              <Table.Cell>\r\n                <EditNetSubModal subRef={subRef} />\r\n                <Button\r\n                  id={subRef.id}\r\n                  name={subRef.name}\r\n                  color=\"red\"\r\n                  onClick={handleNetDelete}\r\n                >\r\n                  <Icon name=\"delete\" />\r\n                </Button>\r\n              </Table.Cell>\r\n            </Table.Row>\r\n          ))}\r\n        </Table.Body>\r\n      </Table>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NetSubTable;\r\n","import React from 'react';\r\nimport { useQuery } from '@apollo/client';\r\nimport { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nimport { Form, Button, Header, Label, Radio } from 'semantic-ui-react';\r\n\r\nimport { ALL_OPERATORS } from '../../../../queries/subscription';\r\nimport { OperatorLogo } from '../../../utils/OperatorLogo';\r\n\r\nconst validationSchema = new Yup.object().shape({\r\n  name: Yup.string().min(4, 'Liian lyhyt nimi').required('Nimi puuttuu'),\r\n  talk: Yup.number().required('Puhemäärä puuttuu'),\r\n  sms: Yup.number().required('Viesimäärä puuttuu'),\r\n  speed: Yup.number().required('Nettinopeus puuttuu'),\r\n  unlimited: Yup.boolean().required('Määritä onko netti rajaton vai ei'),\r\n  eu: Yup.number().required('Eu data puuttuu'),\r\n  active: Yup.boolean().required('Onko liittymä ahtiivinen vai ei'),\r\n  price: Yup.number().required('Kuukausimaksu puuttuu'),\r\n});\r\n\r\nconst AddSubscriptionForm = ({\r\n  selectedOperator,\r\n  setSelectedOperator,\r\n  handleAddSubscription,\r\n}) => {\r\n  const operators = useQuery(ALL_OPERATORS, {\r\n    context: { scope: 'api://gappi/api/user' },\r\n  });\r\n\r\n  if (operators.loading) {\r\n    return null;\r\n  }\r\n  if (!selectedOperator) {\r\n    return (\r\n      <>\r\n        <Header as=\"h2\">Valitse operaattori</Header>\r\n        {operators.data.allOperators.map((opRef) => (\r\n          <Button\r\n            style={{backgroundColor: 'white'}}\r\n            key={opRef.id}\r\n            value={opRef.id}\r\n            onClick={() => setSelectedOperator(opRef.id)}\r\n          >\r\n            <OperatorLogo operator={opRef.name} />\r\n          </Button>\r\n        ))}\r\n      </>\r\n    );\r\n  }\r\n\r\n  const errorMessage = (field) => {\r\n    if (!field) {\r\n      return null;\r\n    }\r\n    return (\r\n      <Label pointing color=\"yellow\">\r\n        {field}\r\n      </Label>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={{\r\n        name: '',\r\n        talk: 0,\r\n        talkUnlimited: true,\r\n        sms: 0,\r\n        smsUnlimited: true,\r\n        speed: undefined,\r\n        unlimited: true,\r\n        eu: undefined,\r\n        active: true,\r\n        price: undefined,\r\n      }}\r\n      validationSchema={validationSchema}\r\n      onSubmit={async (values) => {\r\n        if (values.talkUnlimited) {\r\n          values.talk = 'Rajaton';\r\n        } else {\r\n          values.talk = String(values.talk);\r\n        }\r\n        if (values.smsUnlimited) {\r\n          values.sms = 'Rajaton';\r\n        } else {\r\n          values.sms = String(values.sms);\r\n        }\r\n        values.price = String(values.price);\r\n        values.speed = String(values.speed)\r\n        \r\n\r\n        handleAddSubscription({\r\n          operator: selectedOperator,\r\n          name: values.name,\r\n          talk: values.talk,\r\n          sms: values.sms,\r\n          speed: values.speed,\r\n          unlimited: values.unlimited,\r\n          eu: values.eu,\r\n          active: values.active,\r\n          price: values.price,\r\n        });\r\n      }}\r\n    >\r\n      {(props) => (\r\n        <Form onSubmit={props.handleSubmit} id=\"addSubscription\">\r\n          <Header>\r\n            <OperatorLogo operator={\r\n              operators.data.allOperators.find(\r\n                (opRef) => opRef.id === selectedOperator\r\n              ).name\r\n            } />         \r\n          </Header>\r\n          <Form.Group>\r\n            <div>\r\n              <Form.Input\r\n                type=\"text\"\r\n                onBlur={props.handleBlur}\r\n                onChange={props.handleChange}\r\n                name=\"name\"\r\n                label=\"Liittymän nimi\"\r\n                placeholder=\"Nimi\"\r\n              />\r\n              {props.touched.name && errorMessage(props.errors.name)}\r\n            </div>\r\n            <Form.Group className=\"radioLabelGroup\">\r\n              <Form.Field label=\"Aktiivinen\"></Form.Field>\r\n              <Radio\r\n                id=\"active\"\r\n                type=\"checkbox\"\r\n                toggle\r\n                name=\"active\"\r\n                checked={props.values.active === true}\r\n                onChange={props.handleChange}\r\n              />\r\n            </Form.Group>\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <div>\r\n              <Form.Input\r\n                type=\"number\"\r\n                onChange={props.handleChange}\r\n                onBlur={props.handleBlur}\r\n                name=\"talk\"\r\n                label=\"Puheaika\"\r\n                placeholder=\"Puheaika\"\r\n              />\r\n              {!props.values.talkUnlimited &&\r\n                props.touched.talk &&\r\n                errorMessage(props.errors.talk)}\r\n            </div>\r\n            <Form.Group className=\"radioLabelGroup\">\r\n              <Form.Field label=\"Rajaton puhe\"></Form.Field>\r\n              <Radio\r\n                id=\"talkUnlimited\"\r\n                type=\"checkbox\"\r\n                toggle\r\n                name=\"talkUnlimited\"\r\n                checked={props.values.talkUnlimited === true}\r\n                onChange={props.handleChange}\r\n              />\r\n            </Form.Group>\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <div>\r\n              <Form.Input\r\n                type=\"number\"\r\n                onChange={props.handleChange}\r\n                onBlur={props.handleBlur}\r\n                name=\"sms\"\r\n                label=\"Viesimäärä\"\r\n                placeholder=\"Viesimäärä\"\r\n              />\r\n              {!props.values.smsUnlimited &&\r\n                props.touched.sms &&\r\n                errorMessage(props.errors.sms)}\r\n            </div>\r\n            <Form.Group className=\"radioLabelGroup\">\r\n              <Form.Field label=\"Rajaton sms\"></Form.Field>\r\n              <Radio\r\n                id=\"smsUnlimited\"\r\n                type=\"checkbox\"\r\n                toggle\r\n                name=\"smsUnlimited\"\r\n                checked={props.values.smsUnlimited === true}\r\n                onChange={props.handleChange}\r\n              />\r\n            </Form.Group>\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <div>\r\n              <Form.Input\r\n                type=\"text\"\r\n                onChange={props.handleChange}\r\n                onBlur={props.handleBlur}\r\n                name=\"speed\"\r\n                label=\"Nettinopeus\"\r\n                placeholder=\"Nettinopeus\"\r\n              />\r\n              {props.touched.speed && errorMessage(props.errors.speed)}\r\n            </div>\r\n            <Form.Group className=\"radioLabelGroup\">\r\n              <Form.Field label=\"Rajaton netti\"></Form.Field>\r\n              <Radio\r\n                id=\"unlimited\"\r\n                type=\"checkbox\"\r\n                toggle\r\n                name=\"unlimited\"\r\n                checked={props.values.unlimited === true}\r\n                onChange={props.handleChange}\r\n              />\r\n            </Form.Group>\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <div>\r\n              <Form.Input\r\n                type=\"number\"\r\n                onChange={props.handleChange}\r\n                onBlur={props.handleBlur}\r\n                name=\"eu\"\r\n                label=\"Eu data\"\r\n                placeholder=\"Eu data\"\r\n              />\r\n              {props.touched.eu && errorMessage(props.errors.eu)}\r\n            </div>\r\n            <div>\r\n              <Form.Input\r\n                type=\"text\"\r\n                onChange={props.handleChange}\r\n                onBlur={props.handleBlur}\r\n                name=\"price\"\r\n                label=\"Kuukausimaksu\"\r\n                placeholder=\"Kuukausimaksu\"\r\n              />\r\n              {props.touched.price && errorMessage(props.errors.price)}\r\n            </div>\r\n          </Form.Group>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nexport default AddSubscriptionForm;\r\n","import { useMutation } from '@apollo/client';\r\nimport React, { useState } from 'react';\r\n\r\nimport { Modal, Button, Icon } from 'semantic-ui-react';\r\n\r\nimport { ADD_SUBSCRIPTION } from '../../../../queries/subscription';\r\nimport AddSubscriptionForm from './AddSubscriptionForm';\r\n\r\nconst AddSubscriptionModal = () => {\r\n  const [open, setOpen] = useState(false);\r\n  const [selectedOperator, setSelectedOperator] = useState();\r\n  const [addSubscription] = useMutation(ADD_SUBSCRIPTION, {\r\n    context: { scope: 'api://gappi/api/admin' },\r\n  });\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleAddSubscription = async ({\r\n    operator,\r\n    name,\r\n    talk,\r\n    sms,\r\n    speed,\r\n    unlimited,\r\n    eu,\r\n    active,\r\n    price,\r\n  }) => {\r\n    try {\r\n      await addSubscription({\r\n        variables: {\r\n          operator,\r\n          name,\r\n          talk,\r\n          sms,\r\n          speed,\r\n          unlimited,\r\n          eu,\r\n          active,\r\n          price,\r\n        },\r\n        update: (cache, { data }) => {\r\n          cache.modify({\r\n            fields: {\r\n              allSubscriptions: (existingFieldData) => {\r\n                const newFieldData = [\r\n                  ...existingFieldData,\r\n                  data.addSubscription,\r\n                ];\r\n                return newFieldData;\r\n              },\r\n            },\r\n          });\r\n        },\r\n      });\r\n      setOpen(false);\r\n    } catch (error) {\r\n      window.alert(error.message);\r\n      setOpen(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      onClose={() => setOpen(false)}\r\n      onOpen={() => setOpen(true)}\r\n      open={open}\r\n      trigger={<Button icon labelPosition='right'><Icon name='phone' />Lisää puheliittymä</Button>}\r\n    >\r\n      <Modal.Header>Lisää puheliittymä</Modal.Header>\r\n      <Modal.Content>\r\n        <AddSubscriptionForm\r\n          closeModal={handleClose}\r\n          selectedOperator={selectedOperator}\r\n          setSelectedOperator={setSelectedOperator}\r\n          handleAddSubscription={handleAddSubscription}\r\n        />\r\n      </Modal.Content>\r\n      <Modal.Actions>\r\n        <Button color=\"black\" onClick={() => setOpen(false)}>\r\n          Peruuta\r\n        </Button>\r\n        <Button onClick={() => setSelectedOperator()}>\r\n          Vaihda operaattoria\r\n        </Button>\r\n        <Button\r\n          type=\"submit\"\r\n          form=\"addSubscription\"\r\n          content=\"Lisää\"\r\n          labelPosition=\"right\"\r\n          icon=\"checkmark\"\r\n          positive\r\n        />\r\n      </Modal.Actions>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default AddSubscriptionModal;\r\n","import { Formik } from 'formik';\r\nimport React from 'react';\r\nimport * as Yup from 'yup';\r\n\r\nimport { Form } from 'semantic-ui-react';\r\n\r\nimport { FormInput, FormRadio } from '../../../utils/FormHelpers';\r\n\r\nconst validationSchema = new Yup.object().shape({\r\n  name: Yup.string().min(4, 'Liian lyhyt nimi').required('Nimi puuttuu'),\r\n  talk: Yup.number().required('Puhemäärä puuttuu'),\r\n  sms: Yup.number().required('Viesimäärä puuttuu'),\r\n  speed: Yup.number().required('Nettinopeus puuttuu'),\r\n  unlimited: Yup.boolean().required('Määritä onko netti rajaton vai ei'),\r\n  eu: Yup.number().required('Eu data puuttuu'),\r\n  active: Yup.boolean().required('Onko liittymä ahtiivinen vai ei'),\r\n  price: Yup.number().required('Kuukausimaksu puuttuu'),\r\n});\r\n\r\nconst EditSubscriptionForm = ({ subRef, handleEditSub }) => {\r\n  return (\r\n    <Formik\r\n      initialValues={{\r\n        name: subRef.name,\r\n        talk: subRef.talk === 'Rajaton' ? 0 : subRef.talk,\r\n        talkUnlimited: subRef.talk === 'Rajaton' ? true : false,\r\n        sms: subRef.sms === 'Rajaton' ? 0 : subRef.sms,\r\n        smsUnlimited: subRef.sms === 'Rajaton' ? true : false,\r\n        speed: subRef.speed,\r\n        unlimited: subRef.unlimited,\r\n        eu: subRef.eu,\r\n        active: subRef.active,\r\n        price: subRef.price,\r\n      }}\r\n      validationSchema={validationSchema}\r\n      onSubmit={(values) => {        \r\n        handleEditSub({\r\n          id: subRef.id,\r\n          name: values.name,\r\n          talk: values.talkUnlimited ? 'Rajaton' : String(values.talk),\r\n          sms: values.smsUnlimited ? 'Rajaton' : String(values.sms),\r\n          speed: String(values.speed),\r\n          unlimited: values.unlimited,\r\n          eu: values.eu,\r\n          active: values.active,\r\n          price: String(values.price),\r\n        });\r\n      }}\r\n    >\r\n      {(props) => (\r\n        <Form onSubmit={props.handleSubmit} id=\"editSubscriptionForm\">\r\n          <Form.Group>\r\n            <FormInput\r\n              label=\"Nimi\"\r\n              name=\"name\"\r\n              type=\"text\"\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              value={props.values.name}\r\n              error={props.errors.name}\r\n              touched={props.touched.name}\r\n            />\r\n\r\n            <FormRadio\r\n              label=\"Aktiivinen\"\r\n              id=\"active\"\r\n              name=\"active\"\r\n              checked={props.values.active === true}\r\n              onChange={props.handleChange}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <FormInput\r\n              label=\"Puheaika\"\r\n              name=\"talk\"\r\n              type=\"number\"\r\n              disabled={props.values.talkUnlimited ? true : false}\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              value={props.values.talk}\r\n              error={!props.values.talkUnlimited && props.errors.talk}\r\n              touched={props.touched.talk}\r\n            />\r\n            <FormRadio\r\n              label=\"Rajaton puhe\"\r\n              id=\"talkUnlimited\"\r\n              name=\"talkUnlimited\"\r\n              checked={props.values.talkUnlimited === true}\r\n              onChange={props.handleChange}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <FormInput\r\n              label=\"Viestejä\"\r\n              name=\"sms\"\r\n              type=\"number\"\r\n              disabled={props.values.smsUnlimited ? true : false}\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              value={props.values.sms}\r\n              error={!props.values.smsUnlimited && props.errors.sms}\r\n              touched={props.touched.sms}\r\n            />\r\n            <FormRadio\r\n              label=\"Rajattomat viestit\"\r\n              id=\"smsUnlimited\"\r\n              name=\"smsUnlimited\"\r\n              checked={props.values.smsUnlimited === true}\r\n              onChange={props.handleChange}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <FormInput\r\n              label=\"Nettinopeus\"\r\n              name=\"speed\"\r\n              type=\"number\"\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              value={props.values.speed}\r\n              error={props.errors.speed}\r\n              touched={props.touched.speed}\r\n            />\r\n            <FormRadio\r\n              label=\"Rajaton netti\"\r\n              id=\"unlimited\"\r\n              name=\"unlimited\"\r\n              checked={props.values.unlimited === true}\r\n              onChange={props.handleChange}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <FormInput\r\n              label=\"Eu data\"\r\n              name=\"eu\"\r\n              type=\"number\"\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              value={props.values.eu}\r\n              error={props.errors.eu}\r\n              touched={props.touched.eu}\r\n            />\r\n            <FormInput\r\n              label=\"Hinta\"\r\n              name=\"price\"\r\n              type=\"number\"\r\n              onChange={props.handleChange}\r\n              onBlur={props.handleBlur}\r\n              value={props.values.price}\r\n              error={props.errors.price}\r\n              touched={props.touched.price}\r\n            />\r\n          </Form.Group>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nexport default EditSubscriptionForm;\r\n","import { useMutation } from '@apollo/client';\r\nimport React, { useState } from 'react';\r\n\r\nimport { Button, Icon, Modal } from 'semantic-ui-react';\r\n\r\nimport EditSubscriptionForm from './EditSubscriptionForm';\r\nimport { EDIT_SUBSCRIPTION } from '../../../../queries/subscription';\r\n\r\nconst EditSubscriptionModal = (props) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [editSubscription] = useMutation(EDIT_SUBSCRIPTION, {\r\n    context: { scope: 'api://gappi/api/admin' },\r\n  });\r\n\r\n  const handleUpdateSub = async ({\r\n    id,\r\n    name,\r\n    talk,\r\n    sms,\r\n    speed,\r\n    unlimited,\r\n    eu,\r\n    active,\r\n    price\r\n  }\r\n  ) => {\r\n    \r\n    try {\r\n      await editSubscription({\r\n        variables: {\r\n          id,\r\n          name,\r\n          talk,\r\n          sms,\r\n          speed,\r\n          unlimited,\r\n          eu,\r\n          active,\r\n          price,\r\n        },\r\n      });\r\n      setOpen(false);\r\n    } catch (error) {\r\n      window.alert(error.message);\r\n      setOpen(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      onClose={() => setOpen(false)}\r\n      onOpen={() => setOpen(true)}\r\n      open={open}\r\n      trigger={\r\n        <Button id={props.subRef.id} onClick={props.handleClick}>\r\n          <Icon name=\"configure\" />\r\n        </Button>\r\n      }\r\n    >\r\n      <Modal.Header>Muokkaa</Modal.Header>\r\n      <Modal.Content>\r\n        <EditSubscriptionForm\r\n          subRef={props.subRef}\r\n          handleEditSub={handleUpdateSub}\r\n        />\r\n      </Modal.Content>\r\n      <Modal.Actions>\r\n        <Button\r\n          type=\"submit\"\r\n          form=\"editSubscriptionForm\"\r\n          content=\"Tallenna\"\r\n          icon=\"checkmark\"\r\n          positive\r\n        />\r\n        <Button\r\n          content=\"Peruuta\"\r\n          icon=\"delete\"\r\n          onClick={() => setOpen(false)}\r\n        />\r\n      </Modal.Actions>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default EditSubscriptionModal;\r\n","import React from 'react';\r\nimport { Button, Dropdown, Header, Icon, Table } from 'semantic-ui-react';\r\nimport { XorVIcon } from '../../../utils/FormHelpers';\r\nimport { OperatorLogo } from '../../../utils/OperatorLogo';\r\nimport EditSubscriptionModal from './EditSubscriptionModal';\r\n\r\nconst SubTable = ({\r\n  setFilterOperator,\r\n  opData,\r\n  sortFunction,\r\n  setSortFunction,\r\n  allSubscriptions,\r\n  handleDelete,\r\n}) => {\r\n  return (\r\n    <div>\r\n      <Table celled selectable>\r\n        <Table.Header>\r\n          <Table.Row>\r\n            <Table.Cell>\r\n              <Header as=\"h2\">Puheliittymät</Header>\r\n            </Table.Cell>\r\n          </Table.Row>\r\n          <Table.Row>\r\n            <Table.HeaderCell>\r\n              <Dropdown text=\"Operaattori\" multiple icon=\"filter\">\r\n                <Dropdown.Menu>\r\n                  <Dropdown.Item onClick={() => setFilterOperator()}>\r\n                    kaikki\r\n                  </Dropdown.Item>\r\n                  <Dropdown.Divider />\r\n                  {opData.allOperators.map((opRef) => (\r\n                    <Dropdown.Item\r\n                      key={opRef.id}\r\n                      onClick={() => setFilterOperator(opRef.name)}\r\n                    >\r\n                      {opRef.name}\r\n                    </Dropdown.Item>\r\n                  ))}\r\n                </Dropdown.Menu>\r\n              </Dropdown>\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell>\r\n              <Dropdown\r\n                text=\"Nimi\"\r\n                icon=\"sort\"\r\n                onClick={() =>\r\n                  sortFunction ? setSortFunction() : setSortFunction('name')\r\n                }\r\n              ></Dropdown>\r\n            </Table.HeaderCell>\r\n            <Table.HeaderCell>Puhe</Table.HeaderCell>\r\n            <Table.HeaderCell>Viestit</Table.HeaderCell>\r\n            <Table.HeaderCell>Nettinopeus</Table.HeaderCell>\r\n            <Table.HeaderCell>Rajaton netti</Table.HeaderCell>\r\n            <Table.HeaderCell>Eu data</Table.HeaderCell>\r\n            <Table.HeaderCell>Aktiivinen</Table.HeaderCell>\r\n            <Table.HeaderCell>Vastaavat liittymät</Table.HeaderCell>\r\n            <Table.HeaderCell>Hinta</Table.HeaderCell>\r\n            <Table.HeaderCell>Muokkaa</Table.HeaderCell>\r\n          </Table.Row>\r\n        </Table.Header>\r\n        <Table.Body>\r\n          {allSubscriptions.map((subRef) => (\r\n            <Table.Row key={subRef.id}>\r\n              <Table.Cell className=\"operatorLogoContainer\">\r\n                <OperatorLogo operator={subRef.operator.name} />{' '}\r\n              </Table.Cell>\r\n              <Table.Cell>{subRef.name}</Table.Cell>\r\n              <Table.Cell>{subRef.talk}</Table.Cell>\r\n              <Table.Cell>{subRef.sms}</Table.Cell>\r\n              <Table.Cell>{subRef.speed}</Table.Cell>\r\n              <Table.Cell>\r\n                <XorVIcon value={subRef.unlimited} />\r\n              </Table.Cell>\r\n              <Table.Cell>{subRef.eu}</Table.Cell>\r\n              <Table.Cell>\r\n                <XorVIcon value={subRef.active} />\r\n              </Table.Cell>\r\n              <Table.Cell>{subRef.equivelentSub.name}</Table.Cell>\r\n              <Table.Cell>{subRef.price}</Table.Cell>\r\n              <Table.Cell>\r\n                <EditSubscriptionModal subRef={subRef} />\r\n                <Button\r\n                  id={subRef.id}\r\n                  name={subRef.name}\r\n                  color=\"red\"\r\n                  onClick={handleDelete}\r\n                >\r\n                  <Icon name=\"delete\" />\r\n                </Button>\r\n              </Table.Cell>\r\n            </Table.Row>\r\n          ))}\r\n        </Table.Body>\r\n      </Table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubTable;\r\n","import { useQuery, useMutation } from '@apollo/client';\r\nimport React, { useState } from 'react';\r\nimport { Checkbox, Header, Menu } from 'semantic-ui-react';\r\n\r\nimport {\r\n  ALL_OPERATORS,\r\n  ALL_SUBSCRIPTIONS,\r\n  DELETE_SUBSCRIPTION,\r\n  ALL_NET_SUBSCRIPTIONS,\r\n  DELETE_NET_SUBSCRIPTION,\r\n} from '../../../queries/subscription';\r\nimport { Loading, ErrorMessage } from '../../utils/FormHelpers';\r\n\r\nimport AddNetSubModal from './net/AddNetSubModal';\r\nimport NetSubTable from './net/NetSubTable';\r\nimport AddSubscriptionModal from './talk/AddSubscriptionModal';\r\n\r\nimport SubTable from './talk/SubTable';\r\n\r\nconst sortingFunction = (sortBy) => {\r\n  switch (sortBy) {\r\n    case 'name':\r\n      return (a, b) => (a.name > b.name ? -1 : 1);\r\n    default:\r\n      return (a, b) => (a.operator.name > b.operator.name ? 1 : -1);\r\n  }\r\n};\r\n\r\nconst SubscriptionView = () => {\r\n  const { data: subData, error: subError, loading: subLoading } = useQuery(\r\n    ALL_SUBSCRIPTIONS,\r\n    {\r\n      context: { scope: 'api://gappi/api/user' },\r\n    }\r\n  );\r\n  const { data: opData, error: opError, loading: opLoading } = useQuery(\r\n    ALL_OPERATORS,\r\n    {\r\n      context: { scope: 'api://gappi/api/user' },\r\n    }\r\n  );\r\n  const [deleteSubscription] = useMutation(DELETE_SUBSCRIPTION, {\r\n    context: { scope: 'api://gappi/api/admin' },\r\n  });\r\n  const {\r\n    data: netSubData,\r\n    error: netSubError,\r\n    loading: netSubLoading,\r\n  } = useQuery(ALL_NET_SUBSCRIPTIONS, {\r\n    context: { scope: 'api://gappi/api/user' },\r\n  });\r\n  const [deleteNetSubscription] = useMutation(DELETE_NET_SUBSCRIPTION, {\r\n    context: { scope: 'api://gappi/api/admin' },\r\n  });\r\n\r\n  const [sortFunction, setSortFunction] = useState();\r\n  const [filterOperator, setFilterOperator] = useState();\r\n  const [netFilterOperator, setNetFilterOperator] = useState();\r\n  const [showSubscriptions, setShowSubscriptions] = useState(true);\r\n  const [showNetSubscriptions, setShowNetSubscriptions] = useState(true);\r\n\r\n  if (subLoading || opLoading || netSubLoading) {\r\n    return <Loading />;\r\n  }\r\n  if (subError || opError || netSubError) {\r\n    return <ErrorMessage error={subError} />;\r\n  }\r\n\r\n  const handleDelete = async (_, { id, name }) => {\r\n    const confirmation = window.confirm(`Poistetaanko liittymä ${name}`);\r\n    if (!confirmation) {\r\n      return null;\r\n    }\r\n    try {\r\n      await deleteSubscription({\r\n        variables: { id: id },\r\n        update: (cache, { data }) => {\r\n          const cacheId = cache.identify(data.deleteSubscription);\r\n          cache.modify({\r\n            fields: {\r\n              allSubscriptions: (existingFieldData) => {\r\n                const newFieldData = existingFieldData.filter(\r\n                  (subRef) => cacheId !== subRef.__ref\r\n                );\r\n                return newFieldData;\r\n              },\r\n            },\r\n          });\r\n        },\r\n      });\r\n    } catch (error) {\r\n      window.alert(error.message);\r\n    }\r\n  };\r\n  const handleNetDelete = async (_, { id, name }) => {\r\n    const confirmation = window.confirm(`Poistetaanko liittymä ${name}`);\r\n    if (!confirmation) {\r\n      return null;\r\n    }\r\n    try {\r\n      await deleteNetSubscription({\r\n        variables: { id: id },\r\n        update: (cache, { data }) => {\r\n          const cacheId = cache.identify(data.deleteNetSubscription);\r\n          cache.modify({\r\n            fields: {\r\n              allNetSubscriptions: (existingFieldData) => {\r\n                const newFieldData = existingFieldData.filter(\r\n                  (subRef) => cacheId !== subRef.__ref\r\n                );\r\n                return newFieldData;\r\n              },\r\n            },\r\n          });\r\n        },\r\n      });\r\n    } catch (error) {\r\n      window.alert(error.message);\r\n    }\r\n  };\r\n\r\n  let allSubscriptions = [...subData.allSubscriptions];\r\n  let allNetSubscriptions = [...netSubData.allNetSubscriptions];\r\n  //filters\r\n  filterOperator &&\r\n    (allSubscriptions = [...allSubscriptions].filter(\r\n      (subRef) => subRef.operator.name === filterOperator\r\n    ));\r\n  netFilterOperator &&\r\n    (allNetSubscriptions = [...allNetSubscriptions].filter(\r\n      (subRef) => subRef.operator.name === netFilterOperator\r\n    ));\r\n  //sorters\r\n  allSubscriptions.sort(sortingFunction(sortFunction));\r\n\r\n  return (\r\n    <div style={{ margin: '2em' }}>\r\n      <Header as=\"h2\">Liittymähallinta</Header>\r\n      <div className=\"flexRow flexLeft\">\r\n        <Menu>\r\n          <Menu.Item>\r\n            <AddSubscriptionModal />\r\n          </Menu.Item>\r\n          <Menu.Item>\r\n            <AddNetSubModal />\r\n          </Menu.Item>\r\n        </Menu>\r\n      </div>\r\n      <div className=\"subMenu\">\r\n        <span>\r\n          <Header as=\"h4\">Näytä:</Header>\r\n        </span>\r\n        <span>\r\n          <Checkbox\r\n            label=\"Puheliittymät\"\r\n            checked={showSubscriptions}\r\n            onClick={() => setShowSubscriptions(!showSubscriptions)}\r\n          />\r\n        </span>\r\n        <span>\r\n          <Checkbox\r\n            label=\"Nettiliittymät\"\r\n            checked={showNetSubscriptions}\r\n            onClick={() => setShowNetSubscriptions(!showNetSubscriptions)}\r\n          />\r\n        </span>\r\n      </div>\r\n      {showSubscriptions && (\r\n        <SubTable\r\n          setFilterOperator={setFilterOperator}\r\n          opData={opData}\r\n          sortFunction={sortFunction}\r\n          setSortFunction={setSortFunction}\r\n          allSubscriptions={allSubscriptions}\r\n          handleDelete={handleDelete}\r\n        />\r\n      )}\r\n      {showNetSubscriptions && (\r\n        <NetSubTable\r\n          setNetFilterOperator={setNetFilterOperator}\r\n          allNetSubscriptions={allNetSubscriptions}\r\n          opData={opData}\r\n          handleNetDelete={handleNetDelete}\r\n\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubscriptionView;\r\n","import React, { useState } from 'react';\r\nimport { Menu } from 'semantic-ui-react';\r\n\r\nimport NavButton from '../navbar/NavButton';\r\nimport OfferView from './offer/OfferView';\r\nimport SAView from './serviceagreement/SAView';\r\nimport SubscriptionView from './subscriptions/SubscriptionView';\r\n\r\nconst AdminMain = () => {\r\n  const [view, setView] = useState('tarjous');\r\n\r\n  const showView = () => {\r\n    switch (view) {\r\n      case 'tarjous':\r\n        return <OfferView />; \r\n      case 'liittyma':\r\n        return <SubscriptionView />\r\n      case 'huolenpito':\r\n        return <SAView />\r\n      default:\r\n        return undefined;\r\n    }\r\n  };\r\n\r\n  const handleClick = (_, { name }) => {\r\n    setView(name);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Menu size=\"mini\" style={{ marginTop: '2px' }}>\r\n        <Menu.Menu position=\"right\">\r\n          <NavButton \r\n          link='/admin'\r\n          name='huolenpito'\r\n          text='Huolenpitohallinta'\r\n          handleClick={handleClick}\r\n          />\r\n          <NavButton\r\n            link=\"/admin\"\r\n            name=\"liittyma\"\r\n            text=\"Liittymähallinta\"\r\n            handleClick={handleClick}\r\n          />\r\n          <NavButton\r\n            link=\"/admin\"\r\n            name=\"tarjous\"\r\n            text=\"Tarjoukset\"\r\n            handleClick={handleClick}\r\n          />\r\n\r\n        </Menu.Menu>\r\n      </Menu>\r\n      {showView()}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdminMain;\r\n","import React from 'react';\r\n\r\nconst ShoppingCartCombined = ({ shoppingCart }) => {\r\n  const monthlyPayments = () => {\r\n    let totalMontlyPayment = 0;\r\n    shoppingCart.forEach((itemRef) => {\r\n      totalMontlyPayment =\r\n        parseFloat(totalMontlyPayment) +\r\n        (itemRef.offer.__typename !== 'ServiceAgreement'\r\n          ? parseFloat(itemRef.offer.offer) * itemRef.amount\r\n          : (parseFloat(itemRef.offer.price) / itemRef.offer.length) *\r\n            itemRef.amount);\r\n    });\r\n    return totalMontlyPayment.toFixed(2);\r\n  };\r\n\r\n  const combinedSavings = () => {\r\n    let savings = 0;\r\n\r\n    shoppingCart.forEach((itemRef) => {\r\n      if(itemRef.current.monthlyPayment === false){\r\n       \r\n      }\r\n      else if (itemRef.current) {\r\n        let itemRefSavings = itemRef.current.offer\r\n          ? parseFloat(itemRef.current.offer) - parseFloat(itemRef.offer.offer)\r\n          : parseFloat(itemRef.current.price) -\r\n            (itemRef.offer.__typename !== 'ServiceAgreement'\r\n              ? parseFloat(itemRef.offer.offer)\r\n              : parseFloat(itemRef.offer.price) / itemRef.offer.length);\r\n        savings = savings + parseFloat(itemRefSavings) * itemRef.amount * 12;        \r\n      } else {\r\n        savings =\r\n          savings -\r\n          (itemRef.offer.__typename !== 'ServiceAgreement'\r\n            ? parseFloat(itemRef.offer.offer) * itemRef.amount * 12\r\n            : (parseFloat(itemRef.offer.price) / itemRef.offer.length) *\r\n              itemRef.amount *\r\n              12);\r\n      }\r\n    });\r\n    return savings.toFixed(2);\r\n  };\r\n\r\n  const combinedDiscounts = () => {\r\n    let discounts = 0;\r\n    shoppingCart.forEach((itemRef) => {\r\n      discounts = itemRef.offer.oneTimeDiscount\r\n        ? discounts + itemRef.offer.oneTimeDiscount * itemRef.amount\r\n        : discounts;\r\n    });\r\n    return discounts;\r\n  };\r\n\r\n  return (\r\n    <div className=\"flexRow offerCardLine shoppingCartCombinedContainer\">\r\n      <div>Yhteenveto:</div>\r\n      {combinedSavings() > 0 && (\r\n        <div className=\"combinedItem\">\r\n          Säästöä yhteensä:{' '}\r\n          <div>\r\n            {combinedSavings()} <span className=\"small\">€/vuosi</span>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {combinedDiscounts() > 0 && (\r\n        <div className=\"combinedItem\">\r\n          Lahjakortteja yhteensä:{' '}\r\n          <div>\r\n            {combinedDiscounts()} <span className=\"small\">€</span>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"combinedItem\">\r\n        Kuukausimaksut:{' '}\r\n        <div>\r\n          {monthlyPayments()} <span className=\"small\">€</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShoppingCartCombined;\r\n","import React from 'react';\r\nimport { Button } from 'semantic-ui-react';\r\nimport CompareOfferTable from '../subscriptions/CompareOfferTable';\r\n\r\nimport { AddRemoveInput } from '../utils/FormHelpers';\r\nimport { OperatorLogo } from '../utils/OperatorLogo';\r\n\r\nconst ShoppingItemRow = ({ item, editItemAmount }) => {\r\n  const editItem = (action) => {\r\n    editItemAmount(action, item.id);\r\n  };\r\n  \r\n\r\n  const priceDifference = () => {\r\n    if(item.current) {\r\n      const current = parseInt(\r\n        item.current.offer ? item.current.offer : item.current.price\r\n      );\r\n      const offer = parseInt(item.offer.offer);\r\n\r\n      return (current - offer) * item.amount * 12;\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flexRow offerCardLine shoppingCart\">\r\n        <AddRemoveInput amount={item.amount} action={editItem} />\r\n\r\n        <OperatorLogo operator={item.offer.operator.name} />\r\n        <div className=\"shoppingCartName\">\r\n          <div>{item.offer.name}</div>\r\n          {item.current && (\r\n            <CompareOfferTable\r\n              currentSub={item.current}\r\n              offerSub={item.offer}\r\n              currentSubOffer={item.current.offer}\r\n              shoppingCart={true}\r\n            />\r\n          )}\r\n        </div>\r\n        <span />\r\n\r\n        <div className=\"cheaperPrice\">\r\n          {item.amount > 1 ? (\r\n            <div className=\"flexRow\">\r\n              <div>\r\n                {(item.offer.offer * item.amount).toFixed(2)}\r\n                <span className=\"small\">€/kk</span>\r\n              </div>\r\n              <div className=\"slash\">/</div>\r\n              <div>\r\n                <span className=\"small\">({item.offer.offer} €/kk)</span>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              {item.offer.offer} <span className=\"small\"> €/kk</span>\r\n            </div>\r\n          )}\r\n          {priceDifference() > 0 ? (\r\n            <div className=\"dropdownCheaperPrice\">\r\n              säästät {priceDifference()} € /vuosi\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n        <span />\r\n        {item.offer.oneTimeDiscount ? (\r\n          <>\r\n            {' '}\r\n            <div>\r\n              {item.offer.oneTimeDiscount * item.amount}\r\n              <span className=\"small\"> € lahjakortti</span>\r\n            </div>{' '}\r\n          </>\r\n        ) : null}\r\n\r\n        <Button icon=\"trash\" onClick={() => editItem('DELETE')} />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ShoppingItemRow;\r\n","import React from 'react';\r\nimport { Header } from 'semantic-ui-react';\r\nimport CompareSubRow from '../subscriptions/CompareSubRow';\r\nimport { XorVIcon } from '../utils/FormHelpers';\r\nimport { OperatorLogo } from '../utils/OperatorLogo';\r\n\r\nconst CompareSATable = ({ offerSA, currentSA, shoppingCart }) => {\r\n  \r\n  return (\r\n    <>\r\n      <div\r\n        className={`compereRowContainer ${\r\n          shoppingCart && 'shoppingCartOfferTable'\r\n        }`}\r\n      >\r\n        <div className=\"compareHeader\">\r\n          <div className=\"flexColumn\">\r\n            <OperatorLogo operator={currentSA.operator} />\r\n            <Header as=\"h3\">Nykyinen tietoturvapaketti</Header>\r\n          </div>\r\n          <span />\r\n          <div className=\"flexColumn\">\r\n            <Header as=\"h3\">{offerSA.name}</Header>\r\n          </div>\r\n        </div>\r\n        <CompareSubRow\r\n          feature=\"Tietoturva\"\r\n          current={<XorVIcon value={currentSA.antiVirus} />}\r\n          compareTo={<XorVIcon value={offerSA.antiVirus ? true : false} />}\r\n          offerBetter={currentSA.antiVirus ? false : true}\r\n        />\r\n        <CompareSubRow\r\n          feature=\"Tietoturva lisenssit\"\r\n          suffix=\"kpl\"\r\n          current={currentSA.antiVirusAmount}\r\n          compareTo={offerSA.antiVirusAmount}\r\n        />\r\n        <CompareSubRow\r\n          feature=\"VPN\"\r\n          current={<XorVIcon value={currentSA.VPN} />}\r\n          compareTo={<XorVIcon value={offerSA.VPN} />}\r\n          offerBetter={currentSA.VPN ? false : true}\r\n        />\r\n        <CompareSubRow\r\n          feature=\"VPN lisenssit\"\r\n          suffix=\"kpl\"\r\n          current={\r\n            currentSA.VPNAmount ? (\r\n              currentSA.VPNAmount\r\n            ) : (\r\n              <XorVIcon value={false} />\r\n            )\r\n          }\r\n          compareTo={offerSA.VPNAmount}\r\n        />\r\n        {currentSA.office365 && (\r\n          <CompareSubRow\r\n            feature=\"Office 365 Family\"\r\n            current={<XorVIcon value={false} />}\r\n            compareTo={<XorVIcon value={true} />}\r\n          />\r\n        )}\r\n        <CompareSubRow\r\n          feature=\"Rajaton pilvipalvelu\"\r\n          current={<XorVIcon value={false} />}\r\n          compareTo={<XorVIcon value={offerSA.cloud ? true : false} />}\r\n        />\r\n        <CompareSubRow\r\n          feature=\"Ilmainen puhelintuki\"\r\n          current={<XorVIcon value={false} />}\r\n          compareTo={<XorVIcon value={offerSA.support} />}\r\n        />\r\n        { currentSA.monthlyPayment ? \r\n        <CompareSubRow\r\n          feature=\"Hinta / kuukausi\"\r\n          suffix=\"€/kk\"\r\n          current={currentSA.price.toFixed(2)}\r\n          compareTo={(offerSA.price / offerSA.length).toFixed(2)}\r\n        />\r\n        :\r\n        <CompareSubRow\r\n        feature=\"Hinta / vuosi\"\r\n        suffix=\"€\"\r\n        current={currentSA.price.toFixed(2)}\r\n        compareTo={((offerSA.price / offerSA.length) * 12).toFixed(2)}\r\n      />\r\n        }\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CompareSATable;\r\n","import React from 'react';\r\nimport { Button } from 'semantic-ui-react';\r\nimport CompareSATable from '../serviceAgreement/CompareSATable';\r\n\r\nimport { AddRemoveInput } from '../utils/FormHelpers';\r\n\r\nconst ShoppingItemRowSA = ({ item, editItemAmount }) => {\r\n  const editItem = (action) => {\r\n    editItemAmount(action, item.id);\r\n  };\r\n\r\n  const priceDifference = () => {\r\n    if (item.current) {\r\n      const current = parseInt(item.current.price);\r\n      const offer = parseInt(item.offer.price);\r\n\r\n      return (current - offer) * item.amount * 12;\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const monthlyFee = () => {\r\n    return (item.offer.price / item.offer.length).toFixed(2);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flexRow offerCardLine shoppingCart\">\r\n        <AddRemoveInput amount={item.amount} action={editItem} />\r\n\r\n        <div className=\"shoppingCartName\">\r\n          <div>{item.offer.name}</div>\r\n          {item.current && (\r\n            <CompareSATable\r\n              currentSA={item.current}\r\n              offerSA={item.offer}\r\n              shoppingCart={true}\r\n            />\r\n          )}\r\n        </div>\r\n        <span />\r\n\r\n        <div className=\"cheaperPrice\">\r\n          {item.amount > 1 ? (\r\n            <div className=\"flexRow\">\r\n              <div>\r\n                {(monthlyFee() * item.amount).toFixed(2)}\r\n                <span className=\"small\">€/kk</span>\r\n              </div>\r\n              <div className=\"slash\">/</div>\r\n              <div>\r\n                <span className=\"small\">({monthlyFee()} €/kk)</span>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              {monthlyFee()} <span className=\"small\"> €/kk</span>\r\n            </div>\r\n          )}\r\n          {priceDifference() > 0 ? (\r\n            <div className=\"dropdownCheaperPrice\">\r\n              säästät {priceDifference()} € /vuosi\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n        <span />\r\n        {item.offer.oneTimeDiscount ? (\r\n          <>\r\n            {' '}\r\n            <div>\r\n              {item.offer.oneTimeDiscount * item.amount}\r\n              <span className=\"small\"> € lahjakortti</span>\r\n            </div>{' '}\r\n          </>\r\n        ) : null}\r\n\r\n        <Button icon=\"trash\" onClick={() => editItem('DELETE')} />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ShoppingItemRowSA;\r\n","import React, { useState } from 'react';\r\nimport { Button, Header, Modal } from 'semantic-ui-react';\r\n\r\nimport ShoppingCartCombined from './ShoppingCartCombined';\r\nimport ShoppingItemRow from './ShoppingItemRow';\r\nimport ShoppingItemRowSA from './ShoppingItemRowSA';\r\n\r\nconst ShoppingCart = ({ shoppingCart, setShoppingCart }) => {\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const editItemAmount = (action, itemID) => {\r\n    const itemIndex = shoppingCart.findIndex(\r\n      (itemRef) => itemID === itemRef.id\r\n    );\r\n    const newItem = shoppingCart[itemIndex];\r\n    const newShoppingCart = shoppingCart.filter(\r\n      (itemRef) => itemID !== itemRef.id\r\n    );\r\n\r\n    switch (action) {\r\n      case 'ADD':\r\n        newItem.amount++;\r\n        setShoppingCart([...newShoppingCart, newItem]);\r\n        break;\r\n      case 'SUBTRACT':\r\n        if (shoppingCart[itemIndex].amount <= 1) {\r\n          return null;\r\n        }\r\n        newItem.amount--;\r\n        setShoppingCart([...newShoppingCart, newItem]);\r\n        break;\r\n      case 'DELETE':\r\n        setShoppingCart([...newShoppingCart]);\r\n        break;\r\n      case 'DELETE_ALL':\r\n        setShoppingCart([]);\r\n        setOpen(false);\r\n        break;\r\n      default:\r\n        console.log('invalid action in editItemAmount');\r\n        break;\r\n    }\r\n  };\r\n\r\n  const sortItems = (a, b) => {\r\n    if (a.offer.name < b.offer.name) {\r\n      return 1;\r\n    } else if (a.offer.name > b.offer.name) {\r\n      return -1;\r\n    } else {\r\n      return 0;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      className=\"shoppingCartModal\"\r\n      onClose={() => setOpen(false)}\r\n      onOpen={() => setOpen(true)}\r\n      open={open}\r\n      trigger={\r\n        <div className=\"shoppingCartButtonContainer\">\r\n          <Button className=\"shoppingCartButton\" color=\"green\" icon=\"shop\" />\r\n          {shoppingCart.length > 0 ? <span>{shoppingCart.length}</span> : null}\r\n        </div>\r\n      }\r\n    >\r\n      <Modal.Header>\r\n        <div className=\"flexRow\">\r\n          <Header as=\"h2\">Ostoskori</Header>\r\n          <Button\r\n            className=\"closeButton\"\r\n            onClick={() => setOpen(false)}\r\n            icon=\"x\"\r\n          />\r\n        </div>\r\n      </Modal.Header>\r\n      <Modal.Content>\r\n        {shoppingCart\r\n          .sort(sortItems)\r\n          .map((itemRef) =>\r\n            itemRef.offer.__typename !== 'ServiceAgreement' ? (\r\n              <ShoppingItemRow\r\n                key={itemRef.id}\r\n                item={itemRef}\r\n                editItemAmount={editItemAmount}\r\n              />\r\n            ) : (\r\n              <ShoppingItemRowSA\r\n                key={itemRef.id}\r\n                item={itemRef}\r\n                editItemAmount={editItemAmount}\r\n              />\r\n            )\r\n          )}\r\n        <ShoppingCartCombined shoppingCart={shoppingCart} />\r\n      </Modal.Content>\r\n      <Modal.Actions>\r\n        <Button\r\n          content=\"Tyhjennä\"\r\n          labelPosition=\"right\"\r\n          icon=\"trash\"\r\n          onClick={() => editItemAmount('DELETE_ALL')}\r\n        />\r\n      </Modal.Actions>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ShoppingCart;\r\n","import jwt from 'jsonwebtoken';\r\n\r\nconst tokenDecoder = (token) => {\r\n  return jwt.decode(token);\r\n};\r\n\r\nexport const getUserRole = (token) => {\r\n  const decodedToken = tokenDecoder(token);\r\n  return decodedToken.roles[0];\r\n};\r\n","import { useQuery } from '@apollo/client';\r\nimport React from 'react';\r\n\r\nimport { ALL_NET_SUBSCRIPTIONS_WITH_OFFER } from '../../queries/subscription';\r\nimport { ErrorMessage, Loading } from '../utils/FormHelpers';\r\nimport OfferModal from '../subscriptions/OfferModal';\r\n\r\nconst NetSubMain = ({ handleShoppingCart }) => {\r\n  const { data, loading, error } = useQuery(ALL_NET_SUBSCRIPTIONS_WITH_OFFER, {\r\n    context: { scope: 'api://gappi/api/user' },\r\n  });\r\n\r\n  if (loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <ErrorMessage error={error} />;\r\n  }\r\n\r\n  let subscriptions = [...data.allNetSubscriptionsWithOffer].sort(\r\n    (current, next) => next.offerValue - current.offerValue\r\n  );\r\n\r\n  return (\r\n    <div className=\"offerContainer\">\r\n      {subscriptions.map((subRef) => (\r\n        <OfferModal\r\n          key={subRef.id}\r\n          subRef={subRef}\r\n          handleShoppingCart={handleShoppingCart}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NetSubMain;\r\n","import React from 'react';\r\nimport OfferCardRow from '../subscriptions/OfferCardRow';\r\nimport { XorVIcon } from '../utils/FormHelpers';\r\n\r\nconst SATable = ({ SARef }) => {\r\n  return (\r\n    <>\r\n      <div className=\"subscriptionDetailContainer\">\r\n        <div>\r\n          <OfferCardRow feature=\"Tietoturva:\" value={SARef.antiVirus} />\r\n          <OfferCardRow feature=\"VPN:\" value={<XorVIcon value={SARef.VPN} />} />\r\n          <OfferCardRow feature=\"Pilvipalvelu:\" value={SARef.cloud} />\r\n          <OfferCardRow\r\n            feature=\"Puhelintuki:\"\r\n            value={<XorVIcon value={SARef.support} />}\r\n          />\r\n          {SARef.office365 && (\r\n            <OfferCardRow\r\n              feature=\"Office 365 Family:\"\r\n              value={<XorVIcon value={SARef.office365} />}\r\n            />\r\n          )}\r\n          <OfferCardRow\r\n            feature=\"Kokonaishinta:\"\r\n            value={SARef.price}\r\n            suffix=\"€\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <OfferCardRow\r\n            feature=\"Tietoturva lisenssit:\"\r\n            value={SARef.antiVirusAmount}\r\n            suffix=\"kpl\"\r\n          />\r\n          <OfferCardRow\r\n            feature=\"VPN lisenssit:\"\r\n            value={SARef.VPNAmount}\r\n            suffix=\"kpl\"\r\n          />\r\n          <OfferCardRow\r\n            feature=\"Pilvipalvelu rajoitus:\"\r\n            value={SARef.cloudLimit}\r\n          />\r\n          <OfferCardRow\r\n            feature=\"Remote Fix:\"\r\n            value={<XorVIcon value={SARef.remoteFix} />}\r\n          />\r\n          {SARef.office365 && (\r\n            <OfferCardRow\r\n              feature=\"Office 365 lisenssit:\"\r\n              value={5}\r\n              suffix=\"kpl\"\r\n            />\r\n          )}\r\n             <OfferCardRow\r\n              feature=\"Sopimuskausi\"\r\n              value={SARef.length}\r\n              suffix=\"kk\"\r\n            />\r\n        </div>\r\n      </div>\r\n      <div className=\"subscriptionDetailContainer\" style={{width: '50%', margin: 'auto'}}>\r\n        <OfferCardRow\r\n          feature=\"Kuukausihinta:\"\r\n          value={(SARef.price / SARef.length).toFixed(2)}\r\n          suffix=\"€\"\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SATable;\r\n","import React from 'react';\r\nimport { Card } from 'semantic-ui-react';\r\nimport { XorVIcon } from '../utils/FormHelpers';\r\n\r\nconst SACard = ({ SARef, ...rest }) => {\r\n  return (\r\n    <div {...rest}>\r\n      <Card raised className=\"offerCard\">\r\n        <Card.Content>\r\n          <Card.Header>{SARef.name}</Card.Header>\r\n          <Card.Meta>{SARef.type}</Card.Meta>\r\n          <Card.Description>\r\n            <div className=\"offerCardLine\">\r\n              <p>Tietoturva:</p>\r\n              <span></span>\r\n              <p>{SARef.antiVirus}</p>\r\n            </div>\r\n            <div className=\"offerCardLine\">\r\n              <p>VPN:</p>\r\n              <span></span>\r\n              <XorVIcon value={SARef.VPN} />\r\n            </div>\r\n            <div className=\"offerCardLine\">\r\n              <p>Pilvipalvelu:</p>\r\n              <span></span>\r\n              <XorVIcon value={SARef.cloud ? true : false} />\r\n            </div>\r\n            <div className=\"offerCardLine\">\r\n              <p>Office 365 Family:</p>\r\n              <span></span>\r\n              <XorVIcon value={SARef.office365} />\r\n            </div>\r\n            <div className=\"offerCardLine\">\r\n              <p>Puhelintuki:</p>\r\n              <span></span>\r\n              <XorVIcon value={SARef.support} />\r\n            </div>\r\n            <div className=\"offerCardLine\">\r\n              <p>Remote Fix:</p>\r\n              <span></span>\r\n              <XorVIcon value={SARef.remoteFix} />\r\n            </div>\r\n            <div className=\"offerCardLine\">\r\n              <p>Sopimus:</p>\r\n              <span></span>\r\n              <p>\r\n                {SARef.length}\r\n                <span className=\"small\">kk</span>\r\n              </p>\r\n            </div>\r\n            <div className=\"offerCardLine\">\r\n              <p>Hinta:</p>\r\n              <span></span>\r\n              <p>\r\n                {SARef.price}\r\n                <span className=\"small\">€</span>\r\n              </p>\r\n            </div>\r\n            <div className=\"offerCardLine\">\r\n              <p>Kuukausimaksu:</p>\r\n              <span></span>\r\n              <p>\r\n                {(SARef.price / SARef.length).toFixed(2)}\r\n                <span className=\"small\">€/kk</span>\r\n              </p>\r\n            </div>\r\n          </Card.Description>\r\n        </Card.Content>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SACard;\r\n","import React, { useState } from 'react';\r\nimport * as Yup from 'yup';\r\nimport { Formik } from 'formik';\r\nimport { Button, Form, Modal } from 'semantic-ui-react';\r\nimport { OperatorLogo } from '../utils/OperatorLogo';\r\nimport { FormInput, FormRadio } from '../utils/FormHelpers';\r\n\r\nconst validationSchema = new Yup.object().shape({\r\n  antiVirus: Yup.boolean().required(''),\r\n  antiVirusAmount: Yup.number().when('antiVirus', {\r\n    is: true,\r\n    then: Yup.number().required('Anna lisenssimäärä'),\r\n    otherwise: Yup.number().notRequired(),\r\n  }),\r\n  VPN: Yup.boolean().required(''),\r\n  VPNAmount: Yup.number().when('VPN', {\r\n    is: true,\r\n    then: Yup.number().required('Anna lisenssimäärä'),\r\n    otherwise: Yup.number().notRequired(),\r\n  }),\r\n  monthlyPayment: Yup.boolean().required(''),\r\n  price: Yup.number().required('Hinta puuttuu'),\r\n});\r\n\r\nconst SelectCurrentSA = ({ operators, handleSelect, handleClose }) => {\r\n  const [selectedOperator, setSelectedOperator] = useState();\r\n  return (\r\n    <>\r\n      <Modal.Header>\r\n        <div className=\"flexRow\">\r\n          <div className=\"offerModalHeader\">Valitse nykyinen tietoturva</div>\r\n          <Button className=\"closeButton\" onClick={handleClose} icon=\"x\" />\r\n        </div>\r\n      </Modal.Header>\r\n      <Modal.Content>\r\n        <Form>\r\n          <Form.Field>\r\n            {operators.map((opRef) => (\r\n              <Button\r\n                key={opRef.id}\r\n                onClick={() => setSelectedOperator(opRef.name)}\r\n                className={`selectedOperatorButton \r\n                  ${\r\n                    selectedOperator === opRef.name\r\n                      ? 'selectedOperatorButtonActive'\r\n                      : ''\r\n                  }\r\n                `}\r\n              >\r\n                <OperatorLogo operator={opRef.name} />\r\n              </Button>\r\n            ))}\r\n          </Form.Field>\r\n        </Form>\r\n        <Formik\r\n          initialValues={{\r\n            antiVirus: true,\r\n            antiVirusAmount: 6,\r\n            VPN: false,\r\n            VPNAmount: undefined,\r\n            monthlyPayment: true,\r\n            price: 6.90,\r\n          }}\r\n          validationSchema={validationSchema}\r\n          onSubmit={(values) => {\r\n            if(selectedOperator){\r\n            handleSelect({...values, operator: selectedOperator,});\r\n            } else {\r\n              window.alert('Valitse operaattori')\r\n            }\r\n          }}\r\n        >\r\n          {(props) => (\r\n            <Form onSubmit={props.handleSubmit} id=\"currentSAForm\">\r\n              <Form.Group>\r\n                <FormRadio\r\n                  id=\"antiVirus\"\r\n                  name=\"antiVirus\"\r\n                  label=\"Tietoturva\"\r\n                  checked={props.values.antiVirus === true}\r\n                  onChange={props.handleChange}\r\n                />\r\n                <FormInput\r\n                  label=\"Tietoturva lisenssit\"\r\n                  value={props.values.antiVirusAmount}\r\n                  type=\"number\"\r\n                  name=\"antiVirusAmount\"\r\n                  disabled={!props.values.antiVirus}\r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                  error={props.errors.antiVirusAmount}\r\n                  touched={props.touched.antiVirusAmount}\r\n                  wholeNumbers={true}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <FormRadio\r\n                  id=\"VPN\"\r\n                  name=\"VPN\"\r\n                  label=\"VPN\"\r\n                  checked={props.values.VPN === true}\r\n                  onChange={props.handleChange}\r\n                />\r\n                <FormInput\r\n                  label=\"VPN lisenssit\"\r\n                  placeholder=\"VPN lisenssit\"\r\n                  type=\"number\"\r\n                  name=\"VPNAmount\"\r\n                  disabled={!props.values.VPN}\r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                  error={props.errors.VPNAmount}\r\n                  touched={props.touched.VPNAmount}\r\n                  wholeNumbers={true}\r\n                />\r\n              </Form.Group>\r\n              <Form.Group>\r\n                <FormRadio\r\n                  id=\"monthlyPayment\"\r\n                  name=\"monthlyPayment\"\r\n                  label=\"Kuukausimaksullinen\"\r\n                  checked={props.values.monthlyPayment === true}\r\n                  onChange={props.handleChange}\r\n                />\r\n                <FormInput\r\n                  label=\"Hinta\"\r\n                  value={props.values.price}\r\n                  type=\"number\"\r\n                  name=\"price\"                  \r\n                  onChange={props.handleChange}\r\n                  onBlur={props.handleBlur}\r\n                  error={props.errors.price}\r\n                  touched={props.touched.price}\r\n                />\r\n              </Form.Group>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Modal.Content>\r\n      <Modal.Actions>\r\n        <Button\r\n          type=\"submit\"\r\n          form=\"currentSAForm\"\r\n          content=\"Vertailuun\"\r\n          labelPosition=\"right\"\r\n          icon=\"checkmark\"\r\n          positive\r\n        />\r\n      </Modal.Actions>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SelectCurrentSA;\r\n","import { useQuery } from '@apollo/client';\r\nimport React, { useState } from 'react';\r\nimport { Button, Header, Modal } from 'semantic-ui-react';\r\nimport { ALL_OPERATORS } from '../../queries/subscription';\r\nimport { AddRemoveInput, ErrorMessage, Loading } from '../utils/FormHelpers';\r\nimport CompareSATable from './CompareSATable';\r\nimport SelectCurrentSA from './SelectCurrentSA';\r\n\r\nconst CompareSA = ({ offer, handleClose, handleShoppingCart }) => {\r\n  const operatorQuery = useQuery(ALL_OPERATORS, {\r\n    context: { scope: 'api://gappi/api/user' },\r\n  });\r\n  const [currentSA, setCurrentSA] = useState();\r\n  const [amount, setAmount] = useState(1);\r\n\r\n  if (operatorQuery.loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  if (operatorQuery.error) {\r\n    return <ErrorMessage error={operatorQuery.error} />;\r\n  }\r\n\r\n  const handleSelect = ({antiVirus, antiVirusAmount, VPN, VPNAmount, monthlyPayment, price, operator}) => {\r\n    const currentSAObject = {\r\n      operator,\r\n      antiVirus,\r\n      antiVirusAmount,\r\n      VPN,\r\n      VPNAmount,\r\n      monthlyPayment,\r\n      price\r\n    };\r\n\r\n    setCurrentSA(currentSAObject);\r\n  };\r\n\r\n  const handleChangeCurrent = () => {\r\n    setCurrentSA();\r\n  };\r\n\r\n  const handleAddToShoppingCart = () => {\r\n    const newCartObject = {\r\n      id: offer.id.concat(currentSA.id),\r\n      offer: offer,\r\n      current: currentSA,\r\n      amount: amount,\r\n    }    \r\n    handleShoppingCart('ADD', newCartObject);\r\n    handleClose();\r\n  }\r\n\r\n  const handleAmount = (action) => {\r\n    if (amount < 1) {\r\n      setAmount(1);\r\n    } else if (action === 'ADD') {\r\n      setAmount(amount + 1);\r\n    } else if (action === 'SUBTRACT') {\r\n      amount > 1 && setAmount(amount - 1);\r\n    } else {\r\n      console.log('wrong input in handleAmount');\r\n    }\r\n  };\r\n\r\n  const operators = [...operatorQuery.data.allOperators, {id: 1234 ,name: 'muu'}];\r\n\r\n  if (!currentSA) {\r\n    return (\r\n      <SelectCurrentSA\r\n        operators={operators}        \r\n        handleSelect={handleSelect}\r\n        handleClose={handleClose}\r\n      />\r\n    );\r\n  }\r\n\r\n  return  (\r\n    <>\r\n      <Modal.Header>\r\n        <div className=\"flexRow\">\r\n          <Header className=\"offerModalHeader\">Vertailu</Header>\r\n          <Button className=\"closeButton\" onClick={handleClose} icon=\"x\" />\r\n        </div>\r\n      </Modal.Header>\r\n      <Modal.Content>\r\n        \r\n        <CompareSATable\r\n          currentSA={currentSA}\r\n          offerSA={offer}          \r\n        />\r\n\r\n      </Modal.Content>\r\n      <Modal.Actions className=\"flexRow\">\r\n        <Button onClick={handleChangeCurrent}>Vaihda nykyistä tietoturvaa</Button>\r\n        <AddRemoveInput action={handleAmount} amount={amount} />\r\n\r\n        <Button\r\n          content=\"Lisää koriin\"\r\n          labelPosition=\"right\"\r\n          icon=\"plus\"\r\n          positive\r\n          onClick={handleAddToShoppingCart}\r\n        />\r\n      </Modal.Actions>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CompareSA;\r\n","import React, { useState } from 'react';\r\nimport { Button, Modal } from 'semantic-ui-react';\r\nimport SATable from './SATable';\r\nimport SACard from './SACard';\r\nimport CompareSA from './CompareSA';\r\n\r\nconst SAModal = ({ SARef, handleShoppingCart }) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [comparison, setComparison] = useState(false);\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleAddToShoppingCart = () => {\r\n    const newCartObject = {\r\n      id: SARef.id,\r\n      offer: SARef,\r\n      current: null,\r\n      amount: 1,\r\n    };\r\n    handleShoppingCart('ADD', newCartObject);\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      onClose={() => setOpen(false)}\r\n      onOpen={() => {\r\n        setOpen(true);\r\n        setComparison(false);\r\n      }}\r\n      open={open}\r\n      trigger={<SACard SARef={SARef}></SACard>}\r\n    >\r\n      {!comparison ? (\r\n        <>\r\n          <Modal.Header>\r\n            <div className=\"flexRow\">\r\n              <div className=\"offerModalHeader\">{SARef.name}</div>\r\n              <Button\r\n                className=\"closeButton\"\r\n                onClick={() => setOpen(false)}\r\n                icon=\"x\"\r\n              />\r\n            </div>\r\n          </Modal.Header>\r\n          <Modal.Content>\r\n            <Modal.Description>\r\n              <SATable SARef={SARef} />\r\n            </Modal.Description>\r\n          </Modal.Content>\r\n          <Modal.Actions>\r\n            <Button\r\n              content=\"Vertailu\"\r\n              labelPosition=\"right\"\r\n              icon=\"checkmark\"\r\n              onClick={() => setComparison(true)}\r\n              positive\r\n            />\r\n            <Button\r\n              content=\"Lisää koriin\"\r\n              labelPosition=\"right\"\r\n              icon=\"plus\"\r\n              onClick={handleAddToShoppingCart}\r\n            />\r\n          </Modal.Actions>\r\n        </>\r\n      ) : (\r\n        <CompareSA\r\n          offer={SARef}\r\n          handleClose={handleClose}\r\n          handleShoppingCart={handleShoppingCart}\r\n        />\r\n      )}\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default SAModal;\r\n","import { useQuery } from '@apollo/client';\r\nimport React from 'react';\r\nimport { ALL_SERVICE_AGREEMENTS } from '../../queries/serviceAgreement';\r\nimport { ErrorMessage, Loading } from '../utils/FormHelpers';\r\nimport SAModal from './SAModal';\r\n\r\nconst SAMain = ({ handleShoppingCart }) => {\r\n  const { data, loading, error } = useQuery(ALL_SERVICE_AGREEMENTS, {\r\n    context: { scope: 'api://gappi/api/user' },\r\n  });\r\n\r\n  if (loading) {\r\n    return <Loading />;\r\n  }\r\n\r\n  if (error) {\r\n    return <ErrorMessage error={error} />;\r\n  }\r\n\r\n  const serviceAgreements = [...data.allServiceAgreements];\r\n\r\n  return (\r\n    <div className=\"offerContainer\">\r\n      {serviceAgreements.map((SARef) => (\r\n        <SAModal\r\n          key={SARef.id}\r\n          SARef={SARef}\r\n          handleShoppingCart={handleShoppingCart}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SAMain;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useApolloClient } from '@apollo/client';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport { authProvider } from './authentication/authProvider';\r\n\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport './styles/main.css';\r\n\r\nimport Navbar from './components/navbar/Navbar';\r\nimport SubscriptionMain from './components/subscriptions/SubscriptionMain';\r\nimport AdminMain from './components/admin/AdminMain';\r\nimport ShoppingCart from './components/shoppingcart/ShoppingCart';\r\nimport { getUserRole } from './authentication/accessValidation';\r\nimport NetSubMain from './components/netsubscriptions/NetSubMain';\r\nimport SAMain from './components/serviceAgreement/SAMain';\r\n\r\nconst App = () => {\r\n  const [userRole, setUserRole] = useState(null);\r\n  const [activePage, setActivePage] = useState('Puheliittymät');\r\n  const [shoppingCart, setShoppingCart] = useState([]);\r\n  const client = useApolloClient();\r\n\r\n  const identifyUser = async () => {\r\n    const idToken = await authProvider.getIdToken();\r\n    setUserRole(getUserRole(idToken.idToken.rawIdToken));\r\n  };\r\n\r\n  useEffect(() => {\r\n    identifyUser();    \r\n  }, []);\r\n\r\n  const logout = () => {\r\n    setUserRole(null);\r\n    localStorage.clear();\r\n    authProvider.logout();\r\n    client.resetStore();\r\n  };\r\n\r\n \r\n\r\n\r\n\r\n  const handleShoppingCart = (action, item) => {\r\n    if (action === 'ADD') {\r\n      if (shoppingCart.find((itemRef) => item.id === itemRef.id)) {\r\n        return null;\r\n      }\r\n      setShoppingCart([...shoppingCart, item]);\r\n    } else if (action === 'DELETE') {\r\n      setShoppingCart([\r\n        ...shoppingCart.filter((itemRef) => itemRef.id !== item.id),\r\n      ]);\r\n    } else {\r\n      console.log('Wrong parameter to handleShoppingCart');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Navbar\r\n        activePage={activePage}\r\n        setActivePage={setActivePage}\r\n        userType={userRole}\r\n        logout={logout}\r\n      />      \r\n      {activePage !== 'admin' && (\r\n        <ShoppingCart\r\n          shoppingCart={shoppingCart}\r\n          setShoppingCart={setShoppingCart}\r\n        />\r\n      )}\r\n      <Switch>\r\n        <Route path=\"/puheliittymat\">\r\n          <SubscriptionMain handleShoppingCart={handleShoppingCart} />\r\n        </Route>\r\n        <Route path=\"/nettiliittymat\">\r\n          <NetSubMain handleShoppingCart={handleShoppingCart} />\r\n        </Route>\r\n        <Route path=\"/tietoturva\">\r\n          <SAMain handleShoppingCart={handleShoppingCart} />\r\n        </Route>\r\n        <Route path=\"/admin\">\r\n          <AdminMain />\r\n        </Route>\r\n        <Route path=\"/\"></Route>\r\n      </Switch>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { authProvider } from './authProvider';\r\n\r\nexport const getAccessToken = async (scope) => {\r\n  if (!scope) {\r\n    throw new Error('No valid scope provided');\r\n  }\r\n\r\n  const accessTokenRequest = {\r\n    scopes: [scope],\r\n  };\r\n\r\n  try {\r\n    const accessToken = await (\r\n      await authProvider.acquireTokenSilent(accessTokenRequest)\r\n    ).accessToken;\r\n\r\n    return accessToken;\r\n  } catch (error) {\r\n    if (error.errorMessage.indexOf('interaction_required') !== -1) {\r\n      try {\r\n        const accessToken = await authProvider.aacquireTokenPopup(scope)\r\n          .accessToken;\r\n        return accessToken;\r\n      } catch (error) {\r\n        throw new Error(error.message);\r\n      }\r\n    }\r\n    throw new Error('error');\r\n  }\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { AzureAD } from 'react-aad-msal';\r\n\r\nimport App from './App';\r\nimport { authProvider } from './authentication/authProvider';\r\n\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {\r\n  ApolloClient,\r\n  ApolloProvider,\r\n  HttpLink,\r\n  InMemoryCache,\r\n} from '@apollo/client';\r\nimport { setContext } from 'apollo-link-context';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { getAccessToken } from './authentication/aquireToken';\r\n\r\nconst authLink = setContext(async (_, { scope, headers }) => {\r\n  const accessToken = await getAccessToken(scope);\r\n\r\n  return {\r\n    headers: {\r\n      ...headers,\r\n      authorization: accessToken ? `bearer ${accessToken}` : null,\r\n    },\r\n  };\r\n});\r\n\r\nconst httpLink = new HttpLink({ uri: '/graphql' });\r\n\r\nconst client = new ApolloClient({\r\n  cache: new InMemoryCache(),\r\n  link: authLink.concat(httpLink),\r\n  credentials: 'include',\r\n});\r\n\r\nReactDOM.render(\r\n  <ApolloProvider client={client}>\r\n  <AzureAD provider={authProvider} forceLogin={true}>\r\n    \r\n      <Router>\r\n        <App />\r\n      </Router>\r\n    \r\n  </AzureAD>\r\n  </ApolloProvider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}